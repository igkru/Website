<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-g">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portfolio Website</title>
    <!-- Firebase SDKs -->
    <script type="module">
        // These global variables are provided by the environment
        const firebaseConfig = JSON.parse(typeof __firebase_config !== 'undefined' ? __firebase_config : '{}');
        const initialAuthToken = typeof __initial_auth_token !== 'undefined' ? __initial_auth_token : null;
        const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';

        // Initialize Firebase
        if (firebaseConfig && Object.keys(firebaseConfig).length > 0) {
            try {
                const { initializeApp } = await import("https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js");
                const { getAuth, signInAnonymously, signInWithCustomToken, onAuthStateChanged, GoogleAuthProvider, signInWithPopup, signOut } = await import("https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js");
                const { getFirestore, doc, addDoc, onSnapshot, collection, query, limit, setLogLevel, getDocs, orderBy, serverTimestamp, deleteDoc } = await import("https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js");

                const app = initializeApp(firebaseConfig);
                const auth = getAuth(app);
                const db = getFirestore(app);
                
                // setLogLevel('debug');

                // Make db and auth globally available to other scripts
                window.firebaseServices = { 
                    auth, db, signInAnonymously, signInWithCustomToken, onAuthStateChanged, 
                    doc, addDoc, onSnapshot, collection, query, limit, getDocs, orderBy, 
                    serverTimestamp, deleteDoc, appId, GoogleAuthProvider, signInWithPopup, signOut
                };
                
                // This token is a special auth token for the app owner (admin)
                const isAdminToken = !!initialAuthToken;
                window.isAdmin = isAdminToken; // Expose admin status globally

                // Handle initial authentication
                if (auth) {
                    await auth.signOut(); // Sign out existing user if any
                    if (initialAuthToken) {
                        // Admin user signs in with the special token
                        await signInWithCustomToken(auth, initialAuthToken);
                    } else {
                        // Regular visitor signs in anonymously for now
                        await signInAnonymously(auth);
                    }
                }
                
                // Signal that Firebase is ready
                document.dispatchEvent(new Event('firebase-ready'));

            } catch (error) {
                console.error("Firebase initialization failed:", error);
                const testimonialsGrid = document.getElementById('testimonials-grid');
                if (testimonialsGrid) {
                    testimonialsGrid.innerHTML = '<p class="text-center text-red-500">Failed to load testimonials. Check console for errors.</p>';
                } else {
                    document.addEventListener('DOMContentLoaded', () => {
                        const testimonialsGrid = document.getElementById('testimonials-grid');
                        if (testimonialsGrid) {
                             testimonialsGrid.innerHTML = '<p class="text-center text-red-500">Failed to load testimonials. Check console for errors.</p>';
                        }
                    });
                }
            }
        } else {
            console.warn("Firebase config is missing.");
            document.addEventListener('DOMContentLoaded', () => {
                const testimonialsGrid = document.getElementById('testimonials-grid');
                if (testimonialsGrid) {
                    testimonialsGrid.innerHTML = '<p class="text-center text-yellow-500">Testimonials are offline. Firebase config is missing.</p>';
                }
            });
        }
    </script>
  
    
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Tailwind config to enable 'class' dark mode strategy -->
    <script>
        tailwind.config = {
            darkMode: 'class'
        }
    </script>
    
    <!-- Google Font: Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700;900&display=swap" rel="stylesheet">

    <!-- Initial Theme Check Script -->
    <!-- This runs before the body to prevent FOUC (Flash of Unstyled Content) -->
    <script>
        if (localStorage.theme === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
            document.documentElement.classList.add('dark');
        } else {
            document.documentElement.classList.remove('dark');
        }
    </script>

    <!-- Custom Styles & Animations -->
    <style>
        /* Base font settings */
        html {
            font-family: 'Inter', sans-serif;
            scroll-behavior: smooth;
        }

        

        /* Animated Background */
        :root {
            /* Light mode colors */
            --bg-color-light: #f9fafb; /* gray-50 */
            --line-color-light: #e5e7eb; /* gray-200 */
            /* Dark mode colors */
            --bg-color-dark: #111827; /* gray-900 */
            --line-color-dark: #1f2937; /* gray-800 */
            
            /* Initial animation speed */
            --anim-speed: 25s; 
        }

        /* ADD THIS */
        body {
            background: linear-gradient(180deg, #0f172a 0%, #071024 60%);
            color: #e6eef8;
            min-height: 100vh;
        }

        /* ADD THIS */
        .blob {
            position: fixed;
            inset: 0;
            pointer-events: none;
            z-index: 0;
            mix-blend-mode: screen;
            filter: blur(40px);
            opacity: 0.7
        }

        /* ADD THIS */
        .blob svg {
            width: 50vmax;
            height: 50vmax;
            display: block
        }

        

        /* Glassmorphism for Navbar */
        .glass-nav {
            background-color: rgba(255, 255, 255, 0.7); /* Light mode glass */
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(209, 213, 219, 0.3);
        }

        .dark .glass-nav {
            background-color: rgba(17, 24, 39, 0.7); /* Dark mode glass */
            border-bottom: 1px solid rgba(55, 65, 81, 0.3);
        }
        
        /* Nav shadow on scroll */
        .nav-shadow {
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05), 0 2px 4px -1px rgba(0, 0, 0, 0.03);
        }
        
        .dark .nav-shadow {
             box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }

        /* Hide scrollbar for Chrome, Safari and Opera */
        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }

        /* Hide scrollbar for IE, Edge and Firefox */
        .no-scrollbar {
            -ms-overflow-style: none;  /* IE and Edge */
            scrollbar-width: none;  /* Firefox */
        }

        /* Animation for scroll-in elements */
        .animate-on-scroll {
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 0.6s ease-out, transform 0.6s ease-out;
        }

        .animate-on-scroll.is-visible {
            opacity: 1;
            transform: translateY(0);
        }
        
        /* Staggered animation delays */
        .delay-100 { transition-delay: 100ms; }
        .delay-200 { transition-delay: 200ms; }
        .delay-300 { transition-delay: 300ms; }
        .delay-500 { transition-delay: 500ms; }
        
        /* Fade-in animation (for back-to-top button) */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .fade-in {
            animation: fadeIn 0.3s ease-in-out;
        }

        /* Copy Button Tooltip */
        .copy-button-container {
            position: relative;
        }

        .copy-tooltip {
            visibility: hidden;
            opacity: 0;
            background-color: #1f2937; /* dark:bg-gray-800 */
            color: #fff;
            text-align: center;
            border-radius: 6px;
            padding: 5px 10px;
            position: absolute;
            z-index: 1;
            bottom: 125%; /* Position above the button */
            left: 50%;
            transform: translateX(-50%);
            transition: opacity 0.3s, visibility 0.3s;
            white-space: nowrap;
        }

        .dark .copy-tooltip {
             background-color: #f3f4f6; /* dark:text-gray-800 */
             color: #1f2937;
        }

        .copy-tooltip::after {
            content: "";
            position: absolute;
            top: 100%; /* At the bottom of the tooltip */
            left: 50%;
            margin-left: -5px;
            border-width: 5px;
            border-style: solid;
            border-color: #1f2937 transparent transparent transparent;
        }
        
        .dark .copy-tooltip::after {
             border-color: #f3f4f6 transparent transparent transparent;
        }

        .copy-button-container:hover .copy-tooltip,
        .copy-button-container .copy-tooltip.visible {
            visibility: visible;
            opacity: 1;
        }
        
        /* Breathing animation for Hero */
        @keyframes breath {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.01); }
        }
        .animate-breath {
            animation: breath 6s ease-in-out infinite;
        }
        
        /* Pulse animation for Sparkles */
        @keyframes pulse-sparkle {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }
        .animate-pulse-sparkle {
            animation: pulse-sparkle 2.5s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }
    </style>
    <lottie-player>
        <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>

    </lottie-player>
</head>


<body class="dark">
    <div class="blob" aria-hidden="true">
        <svg viewBox="0 0 600 600" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid slice">
            <defs>
                <linearGradient id="g1" x1="0" x2="1">
                    <stop offset="0%" stop-color="#0ea5b5" stop-opacity="0.95" />
                    <stop offset="100%" stop-color="#7c3aed" stop-opacity="0.95" />
                </linearGradient>
                <filter id="f1" x="-20%" y="-20%" width="140%" height="140%">
                    <feGaussianBlur stdDeviation="40" />
                </filter>
            </defs>
            <g filter="url(#f1)">
                <path id="blob1"
                    d="M421.8,342.7Q385.6,435.4,304.3,477.6Q223,519.8,143.1,472.6Q63.2,425.3,60.9,339.8Q58.6,254.3,100.6,174.6Q142.6,94.8,225.8,68.8Q309,42.9,363.5,106.3Q418.1,169.6,431.3,255.5Q444.5,341.4,421.8,342.7Z"
                    fill="url(#g1)" opacity="0.85" />
            </g>
        </svg>
    </div>
    

    <!-- ====== Header ====== -->
    <header id="header" class="glass-nav fixed top-0 left-0 right-0 z-50 transition-shadow duration-300">
        <nav class="container mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <!-- Logo -->
                <div class="flex-shrink-0 flex items-center">
                    <a href="#home" id="logo-link" class="text-2xl font-bold text-gray-900 dark:text-gray-100" data-name="Your Name">
                        <!-- 
                            REPLACE THESE 'src' URLs with your actual logo files.
                            Using 200x50 placeholder, adjust h-10 as needed.
                        -->
                        <!-- Black/Default Logo (Visible in Light Mode) -->
                        <img 
                            src="images/logo.png" 
                            alt="Logo" 
                            class="h-12 w-auto inline-block dark:hidden"
                            onerror="this.src='https://placehold.co/200x50/111827/FFF?text=YourLogo'; this.onerror=null;"
                        >
                        <!-- White Logo (Visible in Dark Mode) -->
                        <img 
                            src="images/logow.png" 
                            alt="Logo" 
                            class="h-12 w-auto hidden dark:inline-block"
                            onerror="this.src='https://placehold.co/200x50/F9FAFB/111827?text=YourLogo'; this.onerror=null;"
                        >
                    </a>
                </div>

                <!-- Desktop Nav -->
                <div class="hidden sm:ml-6 sm:flex sm:items-center sm:space-x-4">
                    <a href="#about" class="text-gray-700 dark:text-gray-300 hover:text-indigo-600 dark:hover:text-indigo-400 px-3 py-2 rounded-md text-sm font-medium transition-colors duration-300 ease-in-out">About</a>
                    <a href="#projects" class="text-gray-700 dark:text-gray-300 hover:text-indigo-600 dark:hover:text-indigo-400 px-3 py-2 rounded-md text-sm font-medium transition-colors duration-300 ease-in-out">Projects</a>
                    <a href="#testimonials" class="text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-800 hover:text-indigo-600 dark:hover:text-indigo-400 block px-3 py-2 rounded-md text-base font-medium transition-colors duration-300 ease-in-out">Testimonials</a>
                    <a href="#contact" class="text-gray-700 dark:text-gray-300 hover:text-indigo-600 dark:hover:text-indigo-400 px-3 py-2 rounded-md text-sm font-medium transition-colors duration-300 ease-in-out">Contact</a>
                    
                    <!-- Dark Mode Toggle Button -->
                    <button id="theme-toggle" class="ml-4 p-2 rounded-full text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-all duration-300 ease-in-out">
                        <!-- Sun Icon (shown in light mode) -->
                        <svg id="theme-toggle-light-icon" class="h-5 w-5 hidden" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor">
                          <path stroke-linecap="round" stroke-linejoin="round" d="M12 12c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4zm0 2c-3.31 0-6 2.69-6 6H6v-1.1c0-2.64 3.17-4.44 5.6-4.83.19-.03.39-.05.59-.05.21 0 .4.02.59.05C15.83 14.46 19 16.26 19 18.9V20h-2c0-3.31-2.69-6-6-6zM12 6c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2zM4 18.9c0-1.68 2.24-3.23 4.6-3.86.37-.1.74-.15 1.13-.15.39 0 .76.05 1.13.15C13.76 15.67 16 17.22 16 18.9V20H4v-1.1zM20 12c0 4.42-3.58 8-8 8s-8-3.58-8-8 3.58-8 8-8 8 3.58 8 8zm-2 0c0-3.31-2.69-6-6-6s-6 2.69-6 6 2.69 6 6 6 6-2.69 6-6z" clip-rule="evenodd" fill-rule="evenodd" />
                          <path stroke-linecap="round" stroke-linejoin="round" d="M12 2v2M12 20v2M4.93 4.93l1.41 1.41M17.66 17.66l1.41 1.41M2 12h2M20 12h2M4.93 19.07l1.41-1.41M17.66 6.34l1.41-1.41" />
                        </svg>
                        
                        <!-- Moon Icon (shown in dark mode) -->
                        <svg id="theme-toggle-dark-icon" class="h-5 w-5 hidden" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 008.25-4.498z" />
                        </svg>
                    </button>
                </div>

                <!-- Mobile Menu Button -->
                <div class="-mr-2 flex items-center sm:hidden">
                    <!-- Dark Mode Toggle (Mobile) -->
                    <button id="theme-toggle-mobile" class="mr-2 p-2 rounded-full text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-all duration-300 ease-in-out">
                        <!-- Sun Icon (shown in light mode) -->
                        <svg id="theme-toggle-light-icon-mobile" class="h-5 w-5 hidden" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor">
                          <path stroke-linecap="round" stroke-linejoin="round" d="M12 12c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4zm0 2c-3.31 0-6 2.69-6 6H6v-1.1c0-2.64 3.17-4.44 5.6-4.83.19-.03.39-.05.59-.05.21 0 .4.02.59.05C15.83 14.46 19 16.26 19 18.9V20h-2c0-3.31-2.69-6-6-6zM12 6c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2zM4 18.9c0-1.68 2.24-3.23 4.6-3.86.37-.1.74-.15 1.13-.15.39 0 .76.05 1.13.15C13.76 15.67 16 17.22 16 18.9V20H4v-1.1zM20 12c0 4.42-3.58 8-8 8s-8-3.58-8-8 3.58-8 8-8 8 3.58 8 8zm-2 0c0-3.31-2.69-6-6-6s-6 2.69-6 6 2.69 6 6 6 6-2.69 6-6z" clip-rule="evenodd" fill-rule="evenodd" />
                          <path stroke-linecap="round" stroke-linejoin="round" d="M12 2v2M12 20v2M4.93 4.93l1.41 1.41M17.66 17.66l1.41 1.41M2 12h2M20 12h2M4.93 19.07l1.41-1.41M17.66 6.34l1.41-1.41" />
                        </svg>
                        <!-- Moon Icon (shown in dark mode) -->
                        <svg id="theme-toggle-dark-icon-mobile" class="h-5 w-5 hidden" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 008.25-4.498z" />
                        </svg>
                    </button>
                    <!-- Mobile Menu Hamburger Button -->
                    <button id="mobile-menu-button" type="button" class="inline-flex items-center justify-center p-2 rounded-md text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100 hover:bg-gray-200 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500" aria-controls="mobile-menu" aria-expanded="false">
                        <span class="sr-only">Open main menu</span>
                        <!-- Icon when menu is closed. -->
                        <svg id="menu-open-icon" class="block h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                        </svg>
                        <!-- Icon when menu is open. -->
                        <svg id="menu-close-icon" class="hidden h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                        </svg>
                    </button>
                </div>
            </div>
        </nav>

        <!-- Mobile menu, show/hide based on menu state. -->
        <div class="sm:hidden hidden" id="mobile-menu">
            <div class="px-2 pt-2 pb-3 space-y-1">
                <a href="#about" class="text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-800 hover:text-indigo-600 dark:hover:text-indigo-400 block px-3 py-2 rounded-md text-base font-medium transition-colors duration-300 ease-in-out">About</a>
                <a href="#projects" class="text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-800 hover:text-indigo-600 dark:hover:text-indigo-400 block px-3 py-2 rounded-md text-base font-medium transition-colors duration-300 ease-in-out">Projects</a>
                <a href="#testimonials" class="text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-800 hover:text-indigo-600 dark:hover:text-indigo-400 block px-3 py-2 rounded-md text-base font-medium transition-colors duration-300 ease-in-out">Testimonials</a>
                <a href="#contact" class="text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-800 hover:text-indigo-600 dark:hover:text-indigo-400 block px-3 py-2 rounded-md text-base font-medium transition-colors duration-300 ease-in-out">Contact</a>
            </div>
        </div>
    </header>

    <!-- ====== Main Content ====== -->
    <main class="container mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">

        <!-- ====== Hero Section ====== -->
        <section id="home" class="flex items-center pt-24 pb-16 md:pt-16 md:min-h-screen overflow-hidden">
    <div class="hero-inner container mx-auto grid grid-cols-1 md:grid-cols-2 gap-8 md:gap-16 items-center">

        <div class="hero-copy z-20 text-center md:text-left order-last md:order-first">
            
            <h1 class="text-5xl md:text-7xl font-extrabold text-white">
                Hi, I'm <span class="text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-purple-600">Aadith.</span>
            </h1>
            
            <p class="mt-4 text-lg opacity-90">
                I design brands that move and feel alive. With 3D composition & brand systems â€” crafted with thought and motion.
            </p>
            
            <div class="animate-on-scroll delay-200 mt-10 flex flex-col sm:flex-row items-center justify-center md:justify-start gap-4">
                <a href="#projects" class="inline-block bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-bold py-3 px-6 rounded-lg shadow-lg transform transition-all duration-300 hover:scale-105 hover:shadow-xl">
                    View My Work
                </a>
                <a href="#contact" class="inline-block bg-gray-700 text-white font-bold py-3 px-6 rounded-lg shadow-lg transform transition-all duration-300 hover:scale-105 hover:bg-gray-600">
                    Get In Touch
                </a>
            </div>
        </div>

        <div class="z-10 flex justify-center order-first md:order-last">
            <lottie-player 
              src="assets/Pen_tool_animation.json" 
              background="transparent" 
              speed="1" 
              style="width: 240px; height: 240px; filter: invert(1); transform: rotate(-10deg);" 
              loop 
              autoplay>
            </lottie-player>
            </div>
        </div>
</section>
        

        <!-- ====== About Section ====== -->
        <section id="about" class="py-24 sm:py-32 overflow-hidden">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-12 items-center">
                <div>
                    <h2 class="animate-on-scroll text-3xl sm:text-4xl font-bold text-gray-900 dark:text-gray-100 mb-4">About Me</h2>
                    <p class="animate-on-scroll delay-100 text-lg text-gray-600 dark:text-gray-300 mb-4">
                        Hello! I'm Aadith, a passionate and detail-oriented Graphic Designer based in Thrissur,Kerala. My journey in tech began with a fascination for how visual ideas and branding come to life.
                    </p>
                    <p class="animate-on-scroll delay-200 text-lg text-gray-600 dark:text-gray-300 mb-4">
                        Today, I specialize in graphic design using vector and raster tools and 3D artistry. I thrive on turning complex ideas into simple, elegant, and efficient solutions.
                    </p>
                    <p class="animate-on-scroll delay-300 text-lg text-gray-600 dark:text-gray-300">
                        When I'm not designing, you can find me working out or tinkering with PC hardware.
                    </p>
                </div>
                <div class="animate-on-scroll delay-200 w-full h-80 bg-gray-200 dark:bg-gray-700 rounded-lg shadow-xl flex items-center justify-center">
                    <img 
                        src="images/album.jpg" 
                        alt="A placeholder image for a professional headshot" 
                        class="w-auto h-full object-cover rounded-lg"
                        onerror="this.src='https://placehold.co/600x40/E0E7FF/4F46E5?text=Your+Photo+Here'; this.onerror=null;"
                    >
                </div>
            </div>
        </section>

        <!-- ====== Projects Section ====== -->
        <section id="projects" class="py-24 sm:py-32 overflow-hidden">
            <div class="text-center mb-16">
                <h2 class="animate-on-scroll text-3xl sm:text-4xl font-bold text-gray-900 dark:text-gray-100 mb-4">My Projects</h2>
                <p class="animate-on-scroll delay-100 text-xl text-gray-600 dark:text-gray-300 max-w-2xl mx-auto">
                    Here are a few things I've been working on.
                </p>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                
                <!-- Project Card 1 -->
                <div class="animate-on-scroll delay-100 group bg-white/70 dark:bg-gray-800/70 backdrop-blur-sm border border-gray-200/50 dark:border-gray-700/50 rounded-lg shadow-xl overflow-hidden transform transition-all duration-300 ease-in-out hover:scale-[1.03] hover:shadow-2xl">
                    <img 
                        src="images/Work1.jpg" 
                        alt="Project 1 Screenshot" 
                        class="w-full h-48 object-cover"
                        onerror="this.src='https://placehold.co/600x400/D1D5DB/1F2937?text=Project+1+Image'; this.onerror=null;"
                    >
                    <div class="p-6">
                        <h3 class="text-xl font-semibold text-gray-900 dark:text-gray-100 mb-2">Advertisement</h3>
                        <p class="text-gray-600 dark:text-gray-300 mb-4">
                            A brief, Client Project which their requirments are simple and conveying.
                        </p>
                        <div class="flex flex-wrap gap-2 mb-4">
                            <span class="bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200 text-xs font-medium px-2.5 py-0.5 rounded-full">Photoshop</span>
                            <span class="bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200 text-xs font-medium px-2.5 py-0.5 rounded-full">Affinity</span>
                            <span class="bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200 text-xs font-medium px-2.5 py-0.5 rounded-full">Illustration</span>
                        </div>
                        <div class="flex gap-4 transform translate-y-2 group-hover:translate-y-0 opacity-0 group-hover:opacity-100 transition-all duration-300 ease-in-out">
                            <a href="images/Work1.jpg" class="text-indigo-600 dark:text-indigo-400 hover:text-indigo-800 dark:hover:text-indigo-300 font-medium transition-colors duration-300 ease-in-out">Fullscreen</a>
                            <a href="https://github.com/igkru" class="text-gray-500 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 font-medium transition-colors duration-300 ease-in-out">GitHub</a>
                        </div>
                    </div>
                </div>

                <!-- Project Card 2 -->
                <div class="animate-on-scroll delay-100 group bg-white/70 dark:bg-gray-800/70 backdrop-blur-sm border border-gray-200/50 dark:border-gray-700/50 rounded-lg shadow-xl overflow-hidden transform transition-all duration-300 ease-in-out hover:scale-[1.03] hover:shadow-2xl">
                    <img 
                        src="images/Work2.jpg" 
                        alt="Project 2 Screenshot" 
                        class="w-full h-48 object-cover"
                        onerror="this.src='https://placehold.co/600x400/D1D5DB/1F2937?text=Project+2+Image'; this.onerror=null;"
                    >
                    <div class="p-6">
                        <h3 class="text-xl font-semibold text-gray-900 dark:text-gray-100 mb-2">Poster for Social Media</h3>
                        <p class="text-gray-600 dark:text-gray-300 mb-4">
                            A Brief, Client wants to celebrate their 1K followers Milestone and I visually represent it!
                        </p>
                        <div class="flex flex-wrap gap-2 mb-4">
                            <span class="bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200 text-xs font-medium px-2.5 py-0.5 rounded-full">Photoshop</span>
                            <span class="bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200 text-xs font-medium px-2.5 py-0.5 rounded-full">Affinity</span>
                            <span class="bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200 text-xs font-medium px-2.5 py-0.5 rounded-full">Illustration</span>
                        </div>
                        <div class="flex gap-4 transform translate-y-2 group-hover:translate-y-0 opacity-0 group-hover:opacity-100 transition-all duration-300 ease-in-out">
                            <a href="images/Work2.jpg" class="text-indigo-600 dark:text-indigo-400 hover:text-indigo-800 dark:hover:text-indigo-300 font-medium transition-colors duration-300 ease-in-out">Fullscreen</a>
                            <a href="https://github.com/igkru" class="text-gray-500 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 font-medium transition-colors duration-300 ease-in-out">GitHub</a>
                        </div>
                    </div>
                </div>

                <!-- Project Card 3 -->
                <div class="animate-on-scroll delay-100 group bg-white/70 dark:bg-gray-800/70 backdrop-blur-sm border border-gray-200/50 dark:border-gray-700/50 rounded-lg shadow-xl overflow-hidden transform transition-all duration-300 ease-in-out hover:scale-[1.03] hover:shadow-2xl">
                    <img 
                        src="images/Work3.jpg" 
                        alt="Project 3 Screenshot" 
                        class="w-full h-48 object-cover"
                        onerror="this.src='https://placehold.co/600x400/D1D5DB/1F2937?text=Project+3+Image'; this.onerror=null;"
                    >
                    <div class="p-6">
                        <h3 class="text-xl font-semibold text-gray-900 dark:text-gray-100 mb-2">Advertisement</h3>
                        <p class="text-gray-600 dark:text-gray-300 mb-4">
                            A brief, A project for their Advertisement and I visually Created It!
                        </fs>
                        <div class="flex flex-wrap gap-2 mb-4">
                            <span class="bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200 text-xs font-medium px-2.5 py-0.5 rounded-full">Photoshop</span>
                            <span class="bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200 text-xs font-medium px-2.5 py-0.5 rounded-full">Affinity</span>
                            <span class="bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200 text-xs font-medium px-2.5 py-0.5 rounded-full">Illustration</span>
                        </div>
                        <div class="flex gap-4 transform translate-y-2 group-hover:translate-y-0 opacity-0 group-hover:opacity-100 transition-all duration-300 ease-in-out">
                            <a href="images/Work3.jpg" class="text-indigo-600 dark:text-indigo-400 hover:text-indigo-800 dark:hover:text-indigo-300 font-medium transition-colors duration-300 ease-in-out">Fullscreen</a>
                            <a href="https://www.behance.net/aadithvasanth1/services" class="text-gray-500 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 font-medium transition-colors duration-300 ease-in-out">For More</a>
                        </div>
                    </div>
                </div>

            </div>
            <!-- View All Projects Button -->
            <div class="animate-on-scroll delay-500 text-center mt-16">
                <button id="open-projects-modal" class="inline-flex items-center text-lg font-semibold text-indigo-600 dark:text-indigo-400 hover:text-indigo-800 dark:hover:text-indigo-300 transition-colors duration-300 ease-in-out group">
                    View All Projects
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-5 h-5 ml-2 transform group-hover:translate-x-1 transition-transform duration-300 ease-in-out">
                      <path stroke-linecap="round" stroke-linejoin="round" d="M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3" />
                    </svg>
                </button>
            </div>
        </section>


        <!-- ====== Contact Section ====== -->
        <section id="contact" class="py-24 sm:py-32 text-center overflow-hidden">
            <h2 class="text-3xl sm:text-4xl font-bold text-gray-900 dark:text-gray-100 mb-4 animate-on-scroll">
                Get In Touch
            </h2>
            <p class="text-xl text-gray-600 dark:text-gray-300 max-w-2xl mx-auto mb-8 animate-on-scroll delay-100">
                I'm currently open to new opportunities. Whether you have a question or just want to say hi, feel free to reach out. My inbox is always open!
            </p>
            <div class="animate-on-scroll delay-200">
                <div class="copy-button-container inline-flex">
                    <button id="copy-email-button" data-email="aadithvasanthakumar0@gmail.com" class="inline-flex items-center bg-indigo-600 text-white font-semibold px-8 py-3 rounded-lg shadow-lg hover:bg-indigo-700 transition-all duration-300 ease-in-out transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2">
                        <!-- Mail Icon -->
                        <svg class="w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25m19.5 0v.243a2.25 2.25 0 01-1.07 1.916l-7.5 4.615a2.25 2.25 0 01-2.36 0L3.32 8.91a2.25 2.25 0 01-1.07-1.916V6.75" />
                        </svg>
                        Copy My Email
                    </button>
                    <span id="copy-tooltip" class="copy-tooltip">Copied!</span>
                </div>
            </div>

             <!-- ====== Testimonials Section ====== -->
        <section id="testimonials" class="py-24 sm:py-32 overflow-hidden">
            <div class="text-center mb-16">
                <!-- Added a background panel for readability -->
                <div class="inline-block bg-white/70 dark:bg-gray-800/70 backdrop-blur-sm p-8 rounded-lg shadow-lg border border-gray-200/50 dark:border-gray-700/50">
                    <h2 class="animate-on-scroll text-3xl sm:text-4xl font-bold text-gray-900 dark:text-gray-100 mb-4">What My Clients Say</h2>
                    <p class="animate-on-scroll delay-100 text-xl text-gray-600 dark:text-gray-300 max-w-2xl mx-auto">
                        Here's what people I've worked with have to say.
                    </p>
                </div>
            </div>

            <!-- Testimonials Grid - Now populated by Firebase -->
            <div id="testimonials-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-16">
                <!-- Loading State -->
                <p id="testimonials-loading" class="text-center text-gray-600 dark:text-gray-400 md:col-span-2 lg:col-span-3">Loading testimonials...</p>
                <!-- Firebase content will be injected here -->
            </div>
            
            <!-- Leave a Review Form - Now connected to Firebase -->
            <div class="animate-on-scroll delay-500 max-w-3xl mx-auto bg-white/70 dark:bg-gray-800/70 backdrop-blur-sm p-8 sm:p-12 rounded-lg shadow-lg border border-gray-200/50 dark:border-gray-700/50">
                <h3 class="text-2xl font-bold text-gray-900 dark:text-gray-100 mb-6 text-center">Leave Your Opinion</h3>
                
                <!-- This container holds the sign-in button and the form -->
                <div id="review-auth-container">
                    
                    <!-- Sign-in Button (Visible when logged out) -->
                    <div id="review-signin-prompt" class="text-center">
                        <p class="text-gray-600 dark:text-gray-300 mb-4">Sign in to share your feedback.</p>
                        <button id="google-signin-btn" class="inline-flex items-center justify-center bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-200 font-semibold px-6 py-3 rounded-lg shadow-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-all duration-300 ease-in-out border border-gray-300 dark:border-gray-600">
                            <svg class="w-5 h-5 mr-3" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" width="48px" height="48px"><path fill="#FFC107" d="M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"/><path fill="#FF3D00" d="M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"/><path fill="#4CAF50" d="M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.223,0-9.641-3.357-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"/><path fill="#1976D2" d="M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.574l6.19,5.238C39.902,36.097,44,30.605,44,24C44,22.659,43.862,21.35,43.611,20.083z"/></svg>
                            Sign in with Google
                        </button>
                    </div>
                    
                    <!-- Review Form (Hidden when logged out) -->
                    <form id="review-form" class="space-y-6 hidden">
                        <div class="flex items-center justify-between">
                            <p class="text-gray-700 dark:text-gray-300">Signed in as <span id="review-user-name" class="font-semibold"></span></p>
                            <button type="button" id="review-signout-btn" class="text-sm text-indigo-600 dark:text-indigo-400 hover:underline">Sign out</button>
                        </div>
                        <div class="grid grid-cols-1 sm:grid-cols-2 gap-6">
                            <div>
                                <label for="review-name" class="block text-sm font-medium text-gray-700 dark:text-gray-300 text-left">Your Name</label>
                                <input type="text" name="review-name" id="review-name" class="mt-1 block w-full px-4 py-2 bg-gray-100 border border-gray-300 rounded-lg shadow-sm focus:outline-none dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400" readonly>
                            </div>
                            <div>
                                <label for="review-company" class="block text-sm font-medium text-gray-700 dark:text-gray-300 text-left">Company / Role</label>
                                <input type="text" name="review-company" id="review-company" class="mt-1 block w-full px-4 py-2 bg-white border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200">
                            </div>
                        </div>
                        <div>
                            <label for="review-message" class="block text-sm font-medium text-gray-700 dark:text-gray-300 text-left">Message</label>
                            <textarea id="review-message" name="review-message" rows="4" class="mt-1 block w-full px-4 py-2 bg-white border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200" required></textarea>
                        </div>
                        <div class="text-center">
                            <button type="submit" id="submit-review-btn" class="inline-flex justify-center items-center bg-indigo-600 text-white font-semibold px-6 py-3 rounded-lg shadow-lg hover:bg-indigo-700 transition-all duration-300 ease-in-out transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed">
                                Submit Review
                            </button>
                        </div>
                    </form>
                    <p id="review-thanks" class="hidden text-center mt-4 text-green-600 dark:text-green-400">Thank you for your feedback!</p>
                    <p id="review-error" class="hidden text-center mt-4 text-red-600 dark:text-red-400"></p>
                </div>
            </div>
            </section>

            <!-- AI Message Starter -->
            <div class="animate-on-scroll delay-300 max-w-2xl mx-auto mt-16 p-8 bg-white/70 dark:bg-gray-800/70 backdrop-blur-sm rounded-lg shadow-xl border border-gray-200/50 dark:border-gray-700/50">
                <h3 class="text-2xl font-bold text-gray-900 dark:text-gray-100 mb-4 flex items-center justify-center">
                    <!-- Sparkle Icon -->
                    <svg class="w-6 h-6 mr-2 text-indigo-500 animate-pulse-sparkle" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 00-2.456 2.456zM18 13.5h.008v.008H18v-.008z" />
                    </svg>
                    AI Message Starter
                </h3>
                <p class="text-gray-600 dark:text-gray-300 mb-6">
                    Not sure what to write? Select a topic and I'll generate a professional starter message for you.
                </p>
                <div class="space-y-4">
                    <div>
                        <label for="message-topic" class="sr-only">Message Topic</label>
                        <select id="message-topic" class="w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-blue-500">
                        <option value="job">Job Opportunity</option>
                        <option value="collab">Project Collaboration</option>
                        <option value="freelance">Freelance Inquiry</option>
                        <option value="question">Quick Question</option>
                        </select>
                    </div>
                    
                    <button id="generate-message-btn" class="w-full inline-flex justify-center items-center bg-indigo-600 text-white font-semibold px-6 py-3 rounded-lg shadow-lg hover:bg-indigo-700 transition-all duration-300 ease-in-out transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2">
                        <!-- Sparkle Icon -->
                        <svg class="w-5 h-5 mr-2 -ml-1 animate-pulse-sparkle" style="animation-delay: 300ms;" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 00-2.456 2.456zM18 13.5h.008v.008H18v-.008z" />
                        </svg>
                        Generate Draft
                    </button>
                    
                    <div id="ai-message-loader" class="hidden text-center text-sm text-gray-600 dark:text-gray-400">
                        Generating...
                    </div>
                    
                    <textarea id="ai-message-output" rows="6" class="hidden w-full px-4 py-2 bg-gray-50 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200" placeholder="AI-generated message will appear here..."></textarea>
                </div>
            </div>
        </section>

    </main>

    <!-- ====== Footer ====== -->
    <!-- ====== Footer ====== -->
    <!-- Footer is relative to stack above the background -->
    <footer class="relative z-10 bg-white/70 dark:bg-gray-800/70 backdrop-blur-sm border-t border-gray-200/50 dark:border-gray-700/50 mt-24">
        <div class="container mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-12 text-center text-gray-500 dark:text-gray-400">
            
            <!-- Social Media Links -->
            <div class="mb-6">
                <p class="text-sm text-gray-600 dark:text-gray-400 mb-4">
                    If I don't reply via email, you can also reach me on social media:
                </p>
                <div class="flex justify-center items-center space-x-6">
                    <!-- LinkedIn -->
                    <a href="#" class="text-gray-500 dark:text-gray-400 hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors duration-300" target="_blank" rel="noopener noreferrer" aria-label="LinkedIn Profile">
                        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                            <path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.784-1.75-1.75s.784-1.75 1.75-1.75 1.75.784 1.75 1.75-.784 1.75-1.75 1.75zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"/>
                        </svg>
                    </a>
                    <!-- GitHub -->
                    <a href="https://github.com/igkru" class="text-gray-500 dark:text-gray-400 hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors duration-300" target="_blank" rel="noopener noreferrer" aria-label="GitHub Profile">
                        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                            <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
                        </svg>
                    </a>
                    <!-- Twitter / X -->
                    <a href="https://x.com/KRU0875" class="text-gray-500 dark:text-gray-400 hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors duration-300" target="_blank" rel="noopener noreferrer" aria-label="Twitter Profile">
                        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                            <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H4.69l4.523 6.031L13.42 2.25zm-1.56 17.52h2.433L7.468 4.126H4.89l11.786 15.644z"/>
                        </svg>
                    </a>
                </div>
            </div>

            <!-- Copyright -->
            <p>&copy; 2025-2030 Aadith. All rights reserved.</p>
        </div>
    </footer>
    
    <!-- ====== Back to Top Button ====== -->
    <button id="back-to-top" class="hidden fixed bottom-6 right-6 bg-indigo-600 text-white p-3 rounded-full shadow-lg hover:bg-indigo-700 transition-all duration-300 ease-in-out transform hover:scale-110 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 z-40">
        <span class="sr-only">Go to top</span>
        <svg class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" d="M4.5 15.75l7.5-7.5 7.5 7.5" />
        </svg>
    </button>

    <!-- ====== All Projects Modal ====== -->
    <div id="projects-modal" class="hidden fixed inset-0 bg-gray-900/50 dark:bg-gray-900/80 backdrop-blur-sm z-50 flex items-center justify-center p-4">
        
        <!-- Modal Panel -->
        <div id="projects-modal-panel" class="relative bg-white/70 dark:bg-gray-800/70 backdrop-blur-sm border border-gray-200/50 dark:border-gray-700/50 w-full max-w-6xl h-[90vh] rounded-lg shadow-xl flex flex-col">
            
            <!-- Modal Header -->
            <div class="flex justify-between items-center p-6 border-b border-gray-200 dark:border-gray-700">
                <h2 class="text-2xl font-bold text-gray-900 dark:text-gray-100">All Projects</h2>
                <button id="close-projects-modal" class="text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 transition-colors duration-300">
                    <span class="sr-only">Close modal</span>
                    <svg class="w-6 h-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
                    </svg>
                </button>
            </div>
            
            <!-- Modal Body (Scrollable) -->
            <div class="flex-1 overflow-y-auto p-6 sm:p-8 space-y-12">
                
                <!-- Completed Projects Section -->
                <section>
                    <h3 class="text-xl font-semibold text-gray-900 dark:text-gray-100 mb-6">Completed Projects</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                        
                        <!-- Project Card (from main page) -->
                        <div class="group bg-white/50 dark:bg-gray-900/50 backdrop-blur-sm rounded-lg shadow-lg overflow-hidden transform transition-all duration-300 ease-in-out hover:scale-[1.03] border border-gray-200/50 dark:border-gray-700/50">
                            <img src="images/Work4.jpg" alt="Project 1 Screenshot" class="w-full h-48 object-cover" onerror="this.src='https://placehold.co/600x400/D1D5DB/1F2937?text=Project+1+Image'; this.onerror=null;">
                            <div class="p-6">
                                <h3 class="text-xl font-semibold text-gray-900 dark:text-gray-100 mb-2">Bottle Wrap DEsign</h3>
                                <div class="flex flex-wrap gap-2 mb-4">
                                    <span class="bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200 text-xs font-medium px-2.5 py-0.5 rounded-full">Photoshop</span>
                                    <span class="bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200 text-xs font-medium px-2.5 py-0.5 rounded-full">Affinity</span>
                                    <span class="bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200 text-xs font-medium px-2.5 py-0.5 rounded-full">Illustration</span>
                                </div>
                                <div class="flex gap-4 opacity-100 sm:opacity-0 sm:translate-y-2 group-hover:translate-y-0 group-hover:opacity-100 transition-all duration-300 ease-in-out">
                                    <a href="images/Work4.jpg" class="text-indigo-600 dark:text-indigo-400 hover:text-indigo-800 dark:hover:text-indigo-300 font-medium">Fullscreen</a>
                                    <a href="https://github.com/igkru" class="text-gray-500 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 font-medium">GitHub</a>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Project Card (from main page) -->
                        <div class="group bg-white/50 dark:bg-gray-900/50 backdrop-blur-sm rounded-lg shadow-lg overflow-hidden transform transition-all duration-300 ease-in-out hover:scale-[1.03] border border-gray-200/50 dark:border-gray-700/50">
                            <img src="images/Work5.jpg" alt="Project 2 Screenshot" class="w-full h-48 object-cover" onerror="this.src='https://placehold.co/600x400/D1D5DB/1F2937?text=Project+2+Image'; this.onerror=null;">
                            <div class="p-6">
                                <h3 class="text-xl font-semibold text-gray-900 dark:text-gray-100 mb-2">Advertisement For Magazines</h3>
                                <div class="flex flex-wrap gap-2 mb-4">
                                    <span class="bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200 text-xs font-medium px-2.5 py-0.5 rounded-full">Photoshop</span>
                                    <span class="bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200 text-xs font-medium px-2.5 py-0.5 rounded-full">Affinity</span>
                                    <span class="bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200 text-xs font-medium px-2.5 py-0.5 rounded-full">Illustration</span>
                                </div>
                                <div class="flex gap-4 opacity-100 sm:opacity-0 sm:translate-y-2 group-hover:translate-y-0 group-hover:opacity-100 transition-all duration-300 ease-in-out">
                                    <a href="images/Work5.jpg" class="text-indigo-600 dark:text-indigo-400 hover:text-indigo-800 dark:hover:text-indigo-300 font-medium">Fullscreen</a>
                                    <a href="https://github.com/igkru" class="text-gray-500 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 font-medium">GitHub</a>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Project Card (from main page) -->
                        <div class="group bg-white/50 dark:bg-gray-900/50 backdrop-blur-sm rounded-lg shadow-lg overflow-hidden transform transition-all duration-300 ease-in-out hover:scale-[1.03] border border-gray-200/50 dark:border-gray-700/50">
                            <img src="images/Work6.jpg" alt="Project 3 Screenshot" class="w-full h-48 object-cover" onerror="this.src='https://placehold.co/600x400/D1D5DB/1F2937?text=Project+3+Image'; this.onerror=null;">
                            <div class="p-6">
                                <h3 class="text-xl font-semibold text-gray-900 dark:text-gray-100 mb-2">BillBoard Advertisement Project</h3>
                                <div class="flex flex-wrap gap-2 mb-4">
                                    <span class="bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200 text-xs font-medium px-2.5 py-0.5 rounded-full">Photoshop</span>
                                    <span class="bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200 text-xs font-medium px-2.5 py-0.5 rounded-full">Affinity</span>
                                    <span class="bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200 text-xs font-medium px-2.5 py-0.5 rounded-full">Illustration</span>
                                </div>
                                <div class="flex gap-4 opacity-100 sm:opacity-0 sm:translate-y-2 group-hover:translate-y-0 group-hover:opacity-100 transition-all duration-300 ease-in-out">
                                    <a href="images/Work6.jpg" class="text-indigo-600 dark:text-indigo-400 hover:text-indigo-800 dark:hover:text-indigo-300 font-medium">Fullscreen</a>
                                    <a href="https://github.com/igkru" class="text-gray-500 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 font-medium">GitHub</a>
                                </div>
                            </div>
                        </div>
                        
                        <!-- NEW Project Card 4 -->
                        <div class="group bg-white/50 dark:bg-gray-900/50 backdrop-blur-sm rounded-lg shadow-lg overflow-hidden transform transition-all duration-300 ease-in-out hover:scale-[1.03] border border-gray-200/50 dark:border-gray-700/50">
                            <img src="images/Work7.jpg" alt="Project 4 Screenshot" class="w-full h-48 object-cover" onerror="this.src='https://placehold.co/600x400/D1D5DB/1F2937?text=Project+4+Image'; this.onerror=null;">
                            <div class="p-6">
                                <h3 class="text-xl font-semibold text-gray-900 dark:text-gray-100 mb-2">Independence Day Poster For Social Media</h3>
                                <div class="flex flex-wrap gap-2 mb-4">
                                    <span class="bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200 text-xs font-medium px-2.5 py-0.5 rounded-full">Photoshop</span>
                                    <span class="bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200 text-xs font-medium px-2.5 py-0.5 rounded-full">Affinity</span>
                                    <span class="bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200 text-xs font-medium px-2.5 py-0.5 rounded-full">Illustration</span>
                                </div>
                                <div class="flex gap-4 opacity-100 sm:opacity-0 sm:translate-y-2 group-hover:translate-y-0 group-hover:opacity-100 transition-all duration-300 ease-in-out">
                                    <a href="images/Work7.jpg" class="text-indigo-600 dark:text-indigo-400 hover:text-indigo-800 dark:hover:text-indigo-300 font-medium">Fullscreen</a>
                                    <a href="https://github.com/igkru" class="text-gray-500 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 font-medium">GitHub</a>
                                </div>
                            </div>
                        </div>

                    </div>
                </section>
                
                <!-- Upcoming Projects Section -->
                <section>
                    <h3 class="text-xl font-semibold text-gray-900 dark:text-gray-100 mb-6">Upcoming Projects</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                        
                        <!-- Upcoming Project Card 1 -->
                        <div class="relative group bg-gray-50 dark:bg-gray-900 rounded-lg shadow-lg overflow-hidden border border-gray-200 dark:border-gray-700 opacity-70">
                            <img src="https://placehold.co/600x400/D1D5DB/1F2937?text=Upcoming+Project+1" alt="Upcoming Project 1" class="w-full h-48 object-cover" onerror="this.src='https://placehold.co/600x400/D1D5DB/1F2937?text=Upcoming+Project+1'; this.onerror=null;">
                            <div class="p-6">
                                <h3 class="text-xl font-semibold text-gray-900 dark:text-gray-100 mb-2">Upcoming Project 1</h3>
                                <p class="text-gray-600 dark:text-gray-300 mb-4">
                                    We Will Update It Soon!
                                </p>
                                <span class="bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200 text-xs font-medium px-2.5 py-0.5 rounded-full">Still working on it</span>
                            </div>
                        </div>
                        
                        <!-- Upcoming Project Card 2 -->
                        <div class="relative group bg-gray-50 dark:bg-gray-900 rounded-lg shadow-lg overflow-hidden border border-gray-200 dark:border-gray-700 opacity-70">
                            <img src="https://placehold.co/600x400/D1D5DB/1F2937?text=Upcoming+Project+2" alt="Upcoming Project 2" class="w-full h-48 object-cover" onerror="this.src='https://placehold.co/600x400/D1D5DB/1F2937?text=Upcoming+Project+2'; this.onerror=null;">
                            <div class="p-6">
                                <h3 class="text-xl font-semibold text-gray-900 dark:text-gray-100 mb-2">Upcoming Project 2</h3>
                                <p class="text-gray-600 dark:text-gray-300 mb-4">
                                    We Will Update It Soon!
                                </p>
                                <span class="bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-20D0 text-xs font-medium px-2.5 py-0.5 rounded-full">Still working on it</span>
                            </div>
                        </div>
                        
                    </div>
                </section>
                
            </div>
        </div>
    </div>
    

    <!-- ====== JavaScript ====== -->
    <script type="module">
        // This script runs after the body, ensuring all elements are loaded
        document.addEventListener('DOMContentLoaded', () => {

            // --- Mobile Menu Toggle ---
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');
            const menuOpenIcon = document.getElementById('menu-open-icon');
            const menuCloseIcon = document.getElementById('menu-close-icon');

            if (mobileMenuButton) {
                mobileMenuButton.addEventListener('click', () => {
                    const isExpanded = mobileMenuButton.getAttribute('aria-expanded') === 'true';
                    mobileMenuButton.setAttribute('aria-expanded', !isExpanded);
                    mobileMenu.classList.toggle('hidden');
                    menuOpenIcon.classList.toggle('hidden');
                    menuOpenIcon.classList.toggle('block');
                    menuCloseIcon.classList.toggle('hidden');
                });
            }
            
            // Close mobile menu when a link is clicked
            if (mobileMenu) {
                mobileMenu.querySelectorAll('a').forEach(link => {
                    link.addEventListener('click', () => {
                        if (mobileMenuButton) {
                            mobileMenuButton.setAttribute('aria-expanded', 'false');
                        }
                        mobileMenu.classList.add('hidden');
                        if (menuOpenIcon) {
                            menuOpenIcon.classList.remove('hidden');
                            menuOpenIcon.classList.add('block');
                        }
                        if (menuCloseIcon) {
                            menuCloseIcon.classList.add('hidden');
                        }
                    });
                });
            }

            // --- Dark Mode Toggle ---
            const themeToggleBtns = [
                document.getElementById('theme-toggle'), 
                document.getElementById('theme-toggle-mobile')
            ];
            const lightIcons = [
                document.getElementById('theme-toggle-light-icon'),
                document.getElementById('theme-toggle-light-icon-mobile')
            ];
            const darkIcons = [
                document.getElementById('theme-toggle-dark-icon'),
                document.getElementById('theme-toggle-dark-icon-mobile')
            ];

            // Function to update icon visibility
            const updateThemeIcons = () => {
                const isDarkMode = document.documentElement.classList.contains('dark');
                lightIcons.forEach(icon => {
                    if (icon) {
                        if (isDarkMode) {
                            icon.classList.remove('hidden');
                        } else {
                            icon.classList.add('hidden');
                        }
                    }
                });
                darkIcons.forEach(icon => {
                    if (icon) {
                        if (isDarkMode) {
                            icon.classList.add('hidden');
                        } else {
                            icon.classList.remove('hidden');
                        }
                    }
                });
            };
            
            // Set initial icon state
            updateThemeIcons();

            // Add click listener to both toggle buttons
            themeToggleBtns.forEach(btn => {
                if (btn) {
                    btn.addEventListener('click', () => {
                        // Toggle theme on root element
                        if (document.documentElement.classList.contains('dark')) {
                            document.documentElement.classList.remove('dark');
                            localStorage.theme = 'light';
                        } else {
                            document.documentElement.classList.add('dark');
                            localStorage.theme = 'dark';
                        }
                        // Update icons
                        updateThemeIcons();
                    });
                }
            });


            // --- Navbar Shadow on Scroll ---
            const header = document.getElementById('header');
            if(header) {
                window.addEventListener('scroll', () => {
                    if (window.scrollY > 10) {
                        header.classList.add('nav-shadow');
                    } else {
                        header.classList.remove('nav-shadow');
                    }
                });
            }

            // --- Animate on Scroll (Intersection Observer) ---
            const scrollElements = document.querySelectorAll('.animate-on-scroll');
            if (scrollElements.length > 0) {
                const observer = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            entry.target.classList.add('is-visible');
                            // Optional: unobserve after animation
                            // observer.unobserve(entry.target);
                        }
                    });
                }, {
                    threshold: 0.1 // Trigger when 10% of the element is visible
                });

                scrollElements.forEach(el => {
                    observer.observe(el);
                });
            }

            // --- Back to Top Button ---
            const backToTopButton = document.getElementById('back-to-top');
            if (backToTopButton) {
                window.addEventListener('scroll', () => {
                    if (window.scrollY > 300) {
                        if (backToTopButton.classList.contains('hidden')) {
                            backToTopButton.classList.remove('hidden');
                            backToTopButton.classList.add('fade-in');
                        }
                    } else {
                        backToTopButton.classList.add('hidden');
                        backToTopButton.classList.remove('fade-in');
                    }
                });

                backToTopButton.addEventListener('click', () => {
                    window.scrollTo({
                        top: 0,
                        behavior: 'smooth'
                    });
                });
            }

            // --- Copy Email Button ---
            const copyButton = document.getElementById('copy-email-button');
            const copyTooltip = document.getElementById('copy-tooltip');
            if (copyButton) {
                copyButton.addEventListener('click', () => {
                    const email = copyButton.getAttribute('data-email');
                    
                    const unsecuredCopyToClipboard = (text) => {
                        const textArea = document.createElement("textarea");
                        textArea.value = text;
                        textArea.style.position = "fixed"; 
                        textArea.style.top = "-9999px";
                        textArea.style.left = "-9999px";
                        document.body.appendChild(textArea);
                        textArea.focus();
                        textArea.select();
                        try {
                            document.execCommand('copy');
                            showTooltip();
                        } catch (err) {
                            console.error('Failed to copy: ', err);
                            window.prompt("Failed to copy. Please copy this text manually:", email);
                        }
                        document.body.removeChild(textArea);
                    };

                    if (navigator.clipboard && window.isSecureContext) {
                        navigator.clipboard.writeText(email).then(() => {
                            showTooltip();
                        }).catch(err => {
                            console.warn('Modern clipboard API failed, falling back:', err);
                            unsecuredCopyToClipboard(email);
                        });
                    } else {
                        console.warn('Using unsecured clipboard method.');
                        unsecuredCopyToClipboard(email);
                    }
                });
            }

            function showTooltip() {
                if (copyTooltip) {
                    copyTooltip.classList.add('visible');
                    copyTooltip.textContent = 'Copied!';
                    setTimeout(() => {
                        copyTooltip.classList.remove('visible');
                    }, 2000); // Hide tooltip after 2 seconds
                }
            }


                   



            
            // --- Background Scroll Speed Effect ---
            let lastScrollTop = 0;
            let ticking = false; 
            const maxScrollSpeed = 2; 
            const minScrollSpeed = 25; 
            
            window.addEventListener('scroll', () => {
                lastScrollTop = window.scrollY;
                
                if (!ticking) {
                    window.requestAnimationFrame(() => {
                        const totalHeight = document.documentElement.scrollHeight - window.innerHeight;
                        const scrollPercent = Math.min(1, lastScrollTop / totalHeight);
                        const easedPercent = scrollPercent * scrollPercent;
                        let newSpeed = minScrollSpeed - (easedPercent * (minScrollSpeed - maxScrollSpeed));
                        newSpeed = Math.max(maxScrollSpeed, Math.min(minScrollSpeed, newSpeed));
                        document.documentElement.style.setProperty('--anim-speed', `${newSpeed.toFixed(2)}s`);
                        ticking = false;
                    });
                    ticking = true;
                }
            });
            
            
            // --- All Projects Modal Logic ---
            const openModalBtn = document.getElementById('open-projects-modal');
            const closeModalBtn = document.getElementById('close-projects-modal');
            const modal = document.getElementById('projects-modal');
            const modalPanel = document.getElementById('projects-modal-panel');
            
            const openModal = () => {
                if (!modal || !modalPanel) return;
                modal.classList.remove('hidden');
                modal.classList.add('fade-in');
                modalPanel.classList.add('slide-in');
                modalPanel.classList.remove('slide-out');
                document.body.classList.add('modal-open');
            };
            
            const closeModal = () => {
                if (!modal || !modalPanel) return;
                modal.classList.add('fade-out');
                modal.classList.remove('fade-in');
                modalPanel.classList.add('slide-out');
                modalPanel.classList.remove('slide-in');
                
                setTimeout(() => {
                    modal.classList.add('hidden');
                    modal.classList.remove('fade-out');
                    document.body.classList.remove('modal-open');
                }, 300);
            };
            
            if (openModalBtn) openModalBtn.addEventListener('click', openModal);
            if (closeModalBtn) closeModalBtn.addEventListener('click', closeModal);
            if (modal) modal.addEventListener('click', (e) => { if (e.target === modal) closeModal(); });
            window.addEventListener('keydown', (e) => { if (e.key === 'Escape' && !modal.classList.contains('hidden')) closeModal(); });
            
            
            // --- Firebase Testimonials Logic ---
            document.addEventListener('firebase-ready', () => {
                const { 
                    auth, db, addDoc, onSnapshot, collection, query, orderBy, limit, 
                    serverTimestamp, deleteDoc, doc, appId, GoogleAuthProvider, signInWithPopup, signOut,
                    signInAnonymously
                } = window.firebaseServices;
                
                const testimonialsGrid = document.getElementById('testimonials-grid');
                const loadingP = document.getElementById('testimonials-loading');
                const reviewForm = document.getElementById('review-form');
                const submitBtn = document.getElementById('submit-review-btn');
                const reviewThanks = document.getElementById('review-thanks');
                const reviewError = document.getElementById('review-error');
                const signInPrompt = document.getElementById('review-signin-prompt');
                const googleSignInBtn = document.getElementById('google-signin-btn');
                const reviewSignOutBtn = document.getElementById('review-signout-btn');
                const reviewUserName = document.getElementById('review-user-name');
                const reviewNameInput = document.getElementById('review-name');
                
                let currentUser = null;
                const isAdmin = window.isAdmin || false;

                if (auth) {
                    auth.onAuthStateChanged(user => {
                        currentUser = user; // Store the user object
                        
                        if (user && !user.isAnonymous) {
                            // User is signed in with Google
                            if (signInPrompt) signInPrompt.classList.add('hidden');
                            if (reviewForm) reviewForm.classList.remove('hidden');
                            if (reviewUserName) reviewUserName.textContent = user.displayName;
                            if (reviewNameInput) reviewNameInput.value = user.displayName;
                        } else {
                            // User is anonymous or logged out
                            if (signInPrompt) signInPrompt.classList.remove('hidden');
                            if (reviewForm) reviewForm.classList.add('hidden');
                        }
                        
                        // Always setup listener regardless of auth state (due to security rules)
                        // But only if we have a user (even anonymous)
                        if (user) {
                            setupTestimonialsListener();
                        }
                        setupReviewForm(); // Form setup depends on currentUser
                    });
                } else {
                     console.error("Firebase Auth is not initialized.");
                     if (loadingP) {
                        loadingP.textContent = "Firebase is not configured. Testimonials cannot be loaded.";
                        loadingP.classList.add('text-red-500');
                    }
                }
                
                // Handle Google Sign-In
                if (googleSignInBtn) {
                    googleSignInBtn.addEventListener('click', async () => {
                        const provider = new GoogleAuthProvider();
                        try {
                            await signInWithPopup(auth, provider);
                            // Auth state change will handle showing the form
                        } catch (error) {
                            console.error("Google Sign-in failed:", error);
                            if (reviewError) {
                                reviewError.textContent = `Google Sign-in failed: ${error.message}`;
                                reviewError.classList.remove('hidden');
                            }
                        }
                    });
                }
                
                // Handle Sign-Out
                if (reviewSignOutBtn) {
                    reviewSignOutBtn.addEventListener('click', async () => {
                        try {
                            await signOut(auth);
                            // After sign-out, sign in anonymously for basic read access
                            await signInAnonymously(auth);
                            // Auth state change will hide form
                        } catch (error) {
                             console.error("Sign-out failed:", error);
                        }
                    });
                }

                /**
                 * Sets up the real-time listener for testimonials
                 */
                function setupTestimonialsListener() {
                    if (!db || !appId || !currentUser) { // Check for currentUser
                        console.warn("Testimonial listener setup failed: missing db, appId, or user.");
                        if(loadingP) {
                            loadingP.textContent = "Authenticating...";
                        }
                        return;
                    }

                    const testimonialsColPath = `/artifacts/${appId}/public/data/testimonials`;
                    const testimonialsCol = collection(db, testimonialsColPath);
                    const q = query(testimonialsCol, orderBy("createdAt", "desc"), limit(3));

                    onSnapshot(q, (snapshot) => {
                        if (loadingP) loadingP.classList.add('hidden');
                        
                        const testimonials = [];
                        snapshot.forEach(doc => {
                            // Store the doc ID along with its data
                            testimonials.push({ id: doc.id, ...doc.data() });
                        });
                        
                        renderTestimonials(testimonials);
                        
                    }, (error) => {
                        console.error("Error fetching testimonials:", error);
                        if (loadingP) {
                            loadingP.textContent = `Error loading testimonials: ${error.message}`;
                            loadingP.classList.remove('hidden');
                            loadingP.classList.add('text-red-500');
                        }
                        if (testimonialsGrid) testimonialsGrid.innerHTML = '';
                    });
                }
                
                /**
                 * Renders the testimonials to the grid
                 */
                function renderTestimonials(testimonials) {
                    if (!testimonialsGrid) return;
                    testimonialsGrid.innerHTML = ''; 
                    
                    if (testimonials.length === 0) {
                        testimonialsGrid.innerHTML = '<p class="text-center text-gray-500 dark:text-gray-400 md:col-span-2 lg:col-span-3">Be the first to leave a review!</p>';
                        return;
                    }
                    
                    testimonials.forEach((data, index) => {
                        const delay = 100 * (index + 1);
                        // Use Google photoURL if available, otherwise fallback to placeholder
                        const photoURL = data.photoURL || `https://placehold.co/100x100/E0E7FF/4F46E5?text=${escapeHTML(data.name.charAt(0))}`;
                        
                        const card = `
                            <div class="relative animate-on-scroll delay-${delay} bg-white/70 dark:bg-gray-800/70 backdrop-blur-sm p-8 rounded-lg shadow-lg border border-gray-200/50 dark:border-gray-700/50">
                                <!-- Admin Delete Button -->
                                ${isAdmin ? `
                                <button data-doc-id="${data.id}" class="delete-testimonial-btn absolute top-3 right-3 p-1.5 bg-red-100 dark:bg-red-900 rounded-full text-red-600 dark:text-red-300 hover:bg-red-200 dark:hover:bg-red-800 transition-colors">
                                    <svg class="w-4 h-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" d="M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12.002 0A48.108 48.108 0 017.8 5.392m7.682 0l-3.478-.397M6.38 5.79L6.38 4.712A2.25 2.25 0 018.63 2.46h6.74a2.25 2.25 0 012.25 2.25v1.078M10.5 5.79v-.63a1.125 1.125 0 112.25 0v.63m-2.25 0h2.25" />
                                    </svg>
                                </button>
                                ` : ''}
                                
                                <p class="text-lg text-gray-600 dark:text-gray-300 italic mb-6">
                                    "${escapeHTML(data.message)}"
                                </p>
                                <div class="flex items-center">
                                    <img src="${escapeHTML(photoURL)}" alt="${escapeHTML(data.name)}" class="w-12 h-12 rounded-full mr-4 border-2 border-indigo-200 dark:border-indigo-700 object-cover" onerror="this.src='https://placehold.co/100x100/E0E7FF/4F46E5?text=A'">
                                    <div>
                                        <p class="font-bold text-gray-900 dark:text-gray-100">${escapeHTML(data.name)}</p>
                                        <p class="text-sm text-gray-500 dark:text-gray-400">${escapeHTML(data.company)}</p>
                                    </div>
                                </div>
                            </div>
                        `;
                        testimonialsGrid.innerHTML += card;
                    });
                    
                    // Re-run animation observer
                    const newScrollElements = testimonialsGrid.querySelectorAll('.animate-on-scroll');
                    const observer = new IntersectionObserver((entries) => {
                        entries.forEach(entry => { if (entry.isIntersecting) entry.target.classList.add('is-visible'); });
                    }, { threshold: 0.1 });
                    newScrollElements.forEach(el => observer.observe(el));
                    
                    // Add delete listeners for admin
                    if (isAdmin) {
                        document.querySelectorAll('.delete-testimonial-btn').forEach(btn => {
                            btn.addEventListener('click', handleDeleteTestimonial);
                        });
                    }
                }
                
                /**
                 * Admin: Deletes a testimonial
                 */
                async function handleDeleteTestimonial(e) {
                    const btn = e.currentTarget;
                    const docId = btn.getAttribute('data-doc-id');
                    if (!docId) return;

                    if (true) { // Replaced confirm()
                        try {
                            btn.disabled = true;
                            const docPath = `/artifacts/${appId}/public/data/testimonials/${docId}`;
                            await deleteDoc(doc(db, docPath));
                            // Real-time listener will auto-update the UI
                        } catch (error) {
                            console.error("Error deleting document: ", error);
                            btn.disabled = false;
                        }
                    }
                }

                /**
                 * Sets up the form to submit new reviews to Firebase
                 */
                function setupReviewForm() {
                    if (!reviewForm) return;

                    reviewForm.addEventListener('submit', async (e) => {
                        e.preventDefault();
                        
                        // User must be signed in with Google (not anonymous)
                        if (!currentUser || currentUser.isAnonymous) {
                            if (reviewError) {
                                reviewError.textContent = "You must be signed in to leave a review.";
                                reviewError.classList.remove('hidden');
                            }
                            return;
                        }

                        if (submitBtn) submitBtn.disabled = true;
                        if (reviewThanks) reviewThanks.classList.add('hidden');
                        if (reviewError) reviewError.classList.add('hidden');

                        const nameInput = document.getElementById('review-name');
                        const companyInput = document.getElementById('review-company');
                        const messageInput = document.getElementById('review-message');
                        
                        if (!nameInput || !companyInput || !messageInput) {
                             if (reviewError) {
                                reviewError.textContent = "Form elements are missing.";
                                reviewError.classList.remove('hidden');
                            }
                            if (submitBtn) submitBtn.disabled = false;
                            return;
                        }

                        const name = nameInput.value; // Pre-filled from Google
                        const company = companyInput.value || " ";
                        const message = messageInput.value;

                        if (!name || !message) {
                            if (reviewError) {
                                reviewError.textContent = "Please fill out your name and message.";
                                reviewError.classList.remove('hidden');
                            }
                            if (submitBtn) submitBtn.disabled = false;
                            return;
                        }

                        try {
                            const testimonialsColPath = `/artifacts/${appId}/public/data/testimonials`;
                            const testimonialsCol = collection(db, testimonialsColPath);

                            await addDoc(testimonialsCol, {
                                name: name,
                                company: company,
                                message: message,
                                createdAt: serverTimestamp(),
                                userId: currentUser.uid, // Store user's ID
                                photoURL: currentUser.photoURL // Store user's photo
                            });

                            // Success
                            reviewForm.reset();
                            if (reviewNameInput) reviewNameInput.value = currentUser.displayName; // Re-fill name
                            if (reviewThanks) reviewThanks.classList.remove('hidden');
                            setTimeout(() => {
                                if (reviewThanks) reviewThanks.classList.add('hidden');
                            }, 4000);

                        } catch (error) {
                            console.error("Error adding document: ", error);
                            if (reviewError) {
                                reviewError.textContent = `Failed to submit review: ${error.message}`;
                                reviewError.classList.remove('hidden');
                            }
                        } finally {
                            if (submitBtn) submitBtn.disabled = false;
                        }
                    });
                }
                
                /**
                 * Helper function to sanitize text before rendering
                 */
                function escapeHTML(str) {
                    if (typeof str !== 'string') return '';
                    return str.replace(/[&<>"']/g, function(m) {
                        return {
                            '&': '&amp;',
                            '<': '&lt;',
                            '>': '&gt;',
                            '"': '&quot;',
                            "'": '&#039;'
                        }[m];
                    });
                }

            }); // End of 'firebase-ready' listener

        }); // End of DOMContentLoaded

        // Smooth blob morph animation using requestAnimationFrame
        (function animateBlob() {
            const el = document.querySelector('#blob1');
            if (!el) return;
            let t = 0;
            function step() {
                t += 0.008;
                const r1 = 420 + Math.sin(t * 0.9) * 18 + Math.cos(t * 0.6) * 12;
                const r2 = 340 + Math.cos(t * 1.1) * 22 + Math.sin(t * 0.5) * 10;
                // simple path morph by scaling the path via transform
                el.setAttribute('transform', `translate(${Math.sin(t*0.6)*30}, ${Math.cos(t*0.8)*20}) scale(${1 + Math.sin(t*0.4)*0.02})`);
                requestAnimationFrame(step);
            }
            requestAnimationFrame(step);
        })();
        
        // --- AI Message Generator (NEW Simulated Version with Randomness) ---
const generateBtn = document.getElementById('generate-message-btn');
const topicSelect = document.getElementById('message-topic');
const messageOutput = document.getElementById('ai-message-output');
const loader = document.getElementById('ai-message-loader');

// 1. The pre-written messages.
// NOW, each topic has a LIST (an array) of different messages.
const messagePrompts = {
  'job': [
    "Hi Aadith,\n\nI saw your portfolio and was really impressed. I have a [POSITION/PROJECT] I think you'd be a great fit for. Are you available for a quick chat next week?\n\nBest regards,\n[Your Name]",
    "Hello Aadith,\n\nYour creative design work is outstanding. We are looking for a designer for a [PROJECT NAME] and would love to discuss if you're interested. Let me know if you're open to a brief call.\n\nThanks,\n[Your Name]",
    "Hi Aadith,\n\nI'm reaching out from [COMPANY] because your 3D and branding skills are a perfect match for an upcoming role. Are you currently exploring new opportunities?\n\nAll the best,\n[Your Name]"
  ],
  'collab': [
    "Hey Aadith,\n\nI'm a [YOUR ROLE] and I've been following your work. I have an idea for a project I'd love to collaborate on. [Briefly explain project]. Let me know if you're interested!\n\nCheers,\n[Your Name]",
    "Hi Aadith,\n\nI have a concept for a [PROJECT TYPE] that would really benefit from your design and motion skills. Would you be open to a collaboration?\n\nBest,\n[Your Name]",
    "Hey Aadith,\n\nLove your style. I'm working on a project and am looking for a creative partner to handle the visual side. Wondering if you'd be interested in discussing a potential collab?\n\nThanks,\n[Your Name]"
  ],
  'freelance': [
    "Hello Aadith,\n\nI'm looking for a creative designer for a freelance project. We need help with [PROJECT SCOPE, e.g., branding, 3D models]. Could you please send over your availability and current rates?\n\nThanks,\n[Your Name]",
    "Hi Aadith,\n\nWe have a short-term freelance gig for a brand identity refresh, and your portfolio looks like a great fit. Are you available to take on new projects right now?\n\nBest regards,\n[Your Name]",
    "Hi Aadith,\n\nI need a 3D artist for a product visualization, and I found your work. Could you let me know your typical timeline and rates for a project like this?\n\nThanks,\n[Your Name]"
  ],
  'question': [
    "Hi Aadith,\n\nI had a quick question about your [e.g., design process / a specific project].\n\n[Your Question Here]\n\nThanks in advance!\n[Your Name]",
    "Hey Aadith,\n\nBig fan of your work. I was wondering if you could share what software you used for the [PROJECT NAME] project? It looks incredible.\n\nCheers,\n[Your Name]",
    "Hello Aadith,\n\nI'm a new designer and I really admire your portfolio. I had a quick question about how you got started with 3D composition, if you're open to sharing.\n\nThank you,\n[Your Name]"
  ]
};

// 2. The click handler (with new logic)
if (generateBtn) {
  generateBtn.addEventListener('click', () => {
    const topic = topicSelect.value; // 'job', 'collab', etc.
    const messageList = messagePrompts[topic]; // Find the *list* of messages

    loader.classList.remove('hidden'); // Show loader
    messageOutput.classList.add('hidden');
    generateBtn.disabled = true;

    // Simulate a short delay
    setTimeout(() => {
      if (messageList && messageList.length > 0) {
        // *** NEW LOGIC: Pick a random message from the list ***
        const randomIndex = Math.floor(Math.random() * messageList.length);
        const randomMessage = messageList[randomIndex];
        // ***

        messageOutput.value = randomMessage;
        messageOutput.classList.remove('hidden');
        messageOutput.style.height = 'auto';
        messageOutput.style.height = (messageOutput.scrollHeight + 5) + 'px';
      } else {
        messageOutput.value = "Sorry, I couldn't generate a message right now. Please try again.";
        messageOutput.classList.remove('hidden');
      }
      
      loader.classList.add('hidden'); // Hide loader
      generateBtn.disabled = false;
    }, 500); // 0.5 second delay
  });
}

        
    </script>

</body>
</html>