<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-g">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portfolio Website</title>
    
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Tailwind config to enable 'class' dark mode strategy -->
    <script>
        tailwind.config = {
            darkMode: 'class'
        }
    </script>
    
    <!-- Google Font: Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700;900&display=swap" rel="stylesheet">

    <!-- Initial Theme Check Script -->
    <!-- This runs before the body to prevent FOUC (Flash of Unstyled Content) -->
    <script>
        if (localStorage.theme === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
            document.documentElement.classList.add('dark');
        } else {
            document.documentElement.classList.remove('dark');
        }
    </script>

    <!-- Custom Styles & Animations -->
    <style>
        /* Base font settings */
        html {
            font-family: 'Inter', sans-serif;
            scroll-behavior: smooth;
        }

        

        /* Animated Background */
        :root {
            /* Light mode colors */
            --bg-color-light: #f9fafb; /* gray-50 */
            --line-color-light: #e5e7eb; /* gray-200 */
            /* Dark mode colors */
            --bg-color-dark: #111827; /* gray-900 */
            --line-color-dark: #1f2937; /* gray-800 */
            
            /* Initial animation speed */
            --anim-speed: 25s; 
        }

        body {
            /* Set base colors */
            background-color: var(--bg-color-light);
            position: relative;
            overflow-x: hidden; /* Prevent horizontal scroll from background */
        }

        .dark body {
            background-color: var(--bg-color-dark);
        }

        body::before {
            content: "";
            position: fixed; /* Fixed position to stay during scroll */
            top: 0;
            left: 0;
            width: 200vw; /* Make it extra wide */
            height: 200vh; /* Make it extra tall */
            z-index: -1; /* Place it behind all content */
            
            /* Recreate the warped line effect */
            background-image: 
                repeating-radial-gradient(circle at 0% 0%, var(--line-color-light), var(--line-color-light) 4px, transparent 4px, transparent 40px),
                repeating-radial-gradient(circle at 100% 100%, var(--line-color-light), var(--line-color-light) 4px, transparent 4px, transparent 40px),
                repeating-radial-gradient(circle at 100% 0%, var(--line-color-light), var(--line-color-light) 4px, transparent 4px, transparent 40px),
                repeating-radial-gradient(circle at 0% 100%, var(--line-color-light), var(--line-color-light) 4px, transparent 4px, transparent 40px);
            
            background-size: 50% 50%; /* Control the pattern size */
            
            /* The Animation */
            animation: moveBackground var(--anim-speed) linear infinite;
            
            /* Transition for color changes */
            transition: background-image 0.5s ease;
        }

        .dark body::before {
            /* Update CSS variables for dark mode */
            background-image: 
                repeating-radial-gradient(circle at 0% 0%, var(--line-color-dark), var(--line-color-dark) 4px, transparent 4px, transparent 40px),
                repeating-radial-gradient(circle at 100% 100%, var(--line-color-dark), var(--line-color-dark) 4px, transparent 4px, transparent 40px),
                repeating-radial-gradient(circle at 100% 0%, var(--line-color-dark), var(--line-color-dark) 4px, transparent 4px, transparent 40px),
                repeating-radial-gradient(circle at 0% 100%, var(--line-color-dark), var(--line-color-dark) 4px, transparent 4px, transparent 40px);
        }

        @keyframes moveBackground {
            0% { transform: translate(0, 0); }
            50% { transform: translate(-25%, -25%); } /* Move diagonally */
            100% { transform: translate(0, 0); }
        }

        /* Glassmorphism for Navbar */
        .glass-nav {
            background-color: rgba(255, 255, 255, 0.7); /* Light mode glass */
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(209, 213, 219, 0.3);
        }

        .dark .glass-nav {
            background-color: rgba(17, 24, 39, 0.7); /* Dark mode glass */
            border-bottom: 1px solid rgba(55, 65, 81, 0.3);
        }
        
        /* Nav shadow on scroll */
        .nav-shadow {
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05), 0 2px 4px -1px rgba(0, 0, 0, 0.03);
        }
        
        .dark .nav-shadow {
             box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }

        /* Hide scrollbar for Chrome, Safari and Opera */
        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }

        /* Hide scrollbar for IE, Edge and Firefox */
        .no-scrollbar {
            -ms-overflow-style: none;  /* IE and Edge */
            scrollbar-width: none;  /* Firefox */
        }

        /* Animation for scroll-in elements */
        .animate-on-scroll {
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 0.6s ease-out, transform 0.6s ease-out;
        }

        .animate-on-scroll.is-visible {
            opacity: 1;
            transform: translateY(0);
        }
        
        /* Staggered animation delays */
        .delay-100 { transition-delay: 100ms; }
        .delay-200 { transition-delay: 200ms; }
        .delay-300 { transition-delay: 300ms; }
        .delay-500 { transition-delay: 500ms; }
        
        /* Fade-in animation (for back-to-top button) */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .fade-in {
            animation: fadeIn 0.3s ease-in-out;
        }

        /* Copy Button Tooltip */
        .copy-button-container {
            position: relative;
        }

        .copy-tooltip {
            visibility: hidden;
            opacity: 0;
            background-color: #1f2937; /* dark:bg-gray-800 */
            color: #fff;
            text-align: center;
            border-radius: 6px;
            padding: 5px 10px;
            position: absolute;
            z-index: 1;
            bottom: 125%; /* Position above the button */
            left: 50%;
            transform: translateX(-50%);
            transition: opacity 0.3s, visibility 0.3s;
            white-space: nowrap;
        }

        .dark .copy-tooltip {
             background-color: #f3f4f6; /* dark:text-gray-800 */
             color: #1f2937;
        }

        .copy-tooltip::after {
            content: "";
            position: absolute;
            top: 100%; /* At the bottom of the tooltip */
            left: 50%;
            margin-left: -5px;
            border-width: 5px;
            border-style: solid;
            border-color: #1f2937 transparent transparent transparent;
        }
        
        .dark .copy-tooltip::after {
             border-color: #f3f4f6 transparent transparent transparent;
        }

        .copy-button-container:hover .copy-tooltip,
        .copy-button-container .copy-tooltip.visible {
            visibility: visible;
            opacity: 1;
        }
        
        /* Breathing animation for Hero */
        @keyframes breath {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.01); }
        }
        .animate-breath {
            animation: breath 6s ease-in-out infinite;
        }
        
        /* Pulse animation for Sparkles */
        @keyframes pulse-sparkle {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }
        .animate-pulse-sparkle {
            animation: pulse-sparkle 2.5s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }
    </style>
</head>

<body class="bg-gray-50 text-gray-800 antialiased dark:bg-gray-900 dark:text-gray-200">

    <!-- ====== Header ====== -->
    <header id="header" class="glass-nav fixed top-0 left-0 right-0 z-50 transition-shadow duration-300">
        <nav class="container mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <!-- Logo -->
                <div class="flex-shrink-0 flex items-center">
                    <a href="#home" id="logo-link" class="text-2xl font-bold text-gray-900 dark:text-gray-100" data-name="Your Name">
                        <!-- 
                            REPLACE THESE 'src' URLs with your actual logo files.
                            Using 200x50 placeholder, adjust h-10 as needed.
                        -->
                        <!-- Black/Default Logo (Visible in Light Mode) -->
                        <img 
                            src="images/logo.png" 
                            alt="Logo" 
                            class="h-12 w-auto inline-block dark:hidden"
                            onerror="this.src='https://placehold.co/200x50/111827/FFF?text=YourLogo'; this.onerror=null;"
                        >
                        <!-- White Logo (Visible in Dark Mode) -->
                        <img 
                            src="images/logow.png" 
                            alt="Logo" 
                            class="h-12 w-auto hidden dark:inline-block"
                            onerror="this.src='https://placehold.co/200x50/F9FAFB/111827?text=YourLogo'; this.onerror=null;"
                        >
                    </a>
                </div>

                <!-- Desktop Nav -->
                <div class="hidden sm:ml-6 sm:flex sm:items-center sm:space-x-4">
                    <a href="#about" class="text-gray-700 dark:text-gray-300 hover:text-indigo-600 dark:hover:text-indigo-400 px-3 py-2 rounded-md text-sm font-medium transition-colors duration-300 ease-in-out">About</a>
                    <a href="#projects" class="text-gray-700 dark:text-gray-300 hover:text-indigo-600 dark:hover:text-indigo-400 px-3 py-2 rounded-md text-sm font-medium transition-colors duration-300 ease-in-out">Projects</a>
                    <a href="#contact" class="text-gray-700 dark:text-gray-300 hover:text-indigo-600 dark:hover:text-indigo-400 px-3 py-2 rounded-md text-sm font-medium transition-colors duration-300 ease-in-out">Contact</a>
                    
                    <!-- Dark Mode Toggle Button -->
                    <button id="theme-toggle" class="ml-4 p-2 rounded-full text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-all duration-300 ease-in-out">
                        <!-- Sun Icon (shown in light mode) -->
                        <svg id="theme-toggle-light-icon" class="h-5 w-5 hidden" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor">
                          <path stroke-linecap="round" stroke-linejoin="round" d="M12 12c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4zm0 2c-3.31 0-6 2.69-6 6H6v-1.1c0-2.64 3.17-4.44 5.6-4.83.19-.03.39-.05.59-.05.21 0 .4.02.59.05C15.83 14.46 19 16.26 19 18.9V20h-2c0-3.31-2.69-6-6-6zM12 6c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2zM4 18.9c0-1.68 2.24-3.23 4.6-3.86.37-.1.74-.15 1.13-.15.39 0 .76.05 1.13.15C13.76 15.67 16 17.22 16 18.9V20H4v-1.1zM20 12c0 4.42-3.58 8-8 8s-8-3.58-8-8 3.58-8 8-8 8 3.58 8 8zm-2 0c0-3.31-2.69-6-6-6s-6 2.69-6 6 2.69 6 6 6 6-2.69 6-6z" clip-rule="evenodd" fill-rule="evenodd" />
                          <path stroke-linecap="round" stroke-linejoin="round" d="M12 2v2M12 20v2M4.93 4.93l1.41 1.41M17.66 17.66l1.41 1.41M2 12h2M20 12h2M4.93 19.07l1.41-1.41M17.66 6.34l1.41-1.41" />
                        </svg>
                        
                        <!-- Moon Icon (shown in dark mode) -->
                        <svg id="theme-toggle-dark-icon" class="h-5 w-5 hidden" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 008.25-4.498z" />
                        </svg>
                    </button>
                </div>

                <!-- Mobile Menu Button -->
                <div class="-mr-2 flex items-center sm:hidden">
                    <!-- Dark Mode Toggle (Mobile) -->
                    <button id="theme-toggle-mobile" class="mr-2 p-2 rounded-full text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-all duration-300 ease-in-out">
                        <!-- Sun Icon (shown in light mode) -->
                        <svg id="theme-toggle-light-icon-mobile" class="h-5 w-5 hidden" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor">
                          <path stroke-linecap="round" stroke-linejoin="round" d="M12 12c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4zm0 2c-3.31 0-6 2.69-6 6H6v-1.1c0-2.64 3.17-4.44 5.6-4.83.19-.03.39-.05.59-.05.21 0 .4.02.59.05C15.83 14.46 19 16.26 19 18.9V20h-2c0-3.31-2.69-6-6-6zM12 6c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2zM4 18.9c0-1.68 2.24-3.23 4.6-3.86.37-.1.74-.15 1.13-.15.39 0 .76.05 1.13.15C13.76 15.67 16 17.22 16 18.9V20H4v-1.1zM20 12c0 4.42-3.58 8-8 8s-8-3.58-8-8 3.58-8 8-8 8 3.58 8 8zm-2 0c0-3.31-2.69-6-6-6s-6 2.69-6 6 2.69 6 6 6 6-2.69 6-6z" clip-rule="evenodd" fill-rule="evenodd" />
                          <path stroke-linecap="round" stroke-linejoin="round" d="M12 2v2M12 20v2M4.93 4.93l1.41 1.41M17.66 17.66l1.41 1.41M2 12h2M20 12h2M4.93 19.07l1.41-1.41M17.66 6.34l1.41-1.41" />
                        </svg>
                        <!-- Moon Icon (shown in dark mode) -->
                        <svg id="theme-toggle-dark-icon-mobile" class="h-5 w-5 hidden" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 008.25-4.498z" />
                        </svg>
                    </button>
                    <!-- Mobile Menu Hamburger Button -->
                    <button id="mobile-menu-button" type="button" class="inline-flex items-center justify-center p-2 rounded-md text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100 hover:bg-gray-200 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500" aria-controls="mobile-menu" aria-expanded="false">
                        <span class="sr-only">Open main menu</span>
                        <!-- Icon when menu is closed. -->
                        <svg id="menu-open-icon" class="block h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                        </svg>
                        <!-- Icon when menu is open. -->
                        <svg id="menu-close-icon" class="hidden h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                        </svg>
                    </button>
                </div>
            </div>
        </nav>

        <!-- Mobile menu, show/hide based on menu state. -->
        <div class="sm:hidden hidden" id="mobile-menu">
            <div class="px-2 pt-2 pb-3 space-y-1">
                <a href="#about" class="text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-800 hover:text-indigo-600 dark:hover:text-indigo-400 block px-3 py-2 rounded-md text-base font-medium transition-colors duration-300 ease-in-out">About</a>
                <a href="#projects" class="text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-800 hover:text-indigo-600 dark:hover:text-indigo-400 block px-3 py-2 rounded-md text-base font-medium transition-colors duration-300 ease-in-out">Projects</a>
                <a href="#contact" class="text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-800 hover:text-indigo-600 dark:hover:text-indigo-400 block px-3 py-2 rounded-md text-base font-medium transition-colors duration-300 ease-in-out">Contact</a>
            </div>
        </div>
    </header>

    <!-- ====== Main Content ====== -->
    <main class="container mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">

        <!-- ====== Hero Section ====== -->
        <section id="home" class="min-h-screen flex items-center justify-center text-center pt-16 overflow-hidden">
            <div>
                <h1 class="animate-on-scroll text-5xl sm:text-7xl lg:text-8xl font-black text-gray-900 dark:text-gray-100 tracking-tight animate-breath">
                    Hi, I'm <span class="text-indigo-600 dark:text-indigo-400">Aadith</span>.
                </h1>
                <p class="animate-on-scroll delay-100 mt-4 text-xl sm:text-2xl text-gray-600 dark:text-gray-300 max-w-3xl mx-auto">
                    I'm a Creative Designer,Crafting Brand Through Design,3D Artist & Optimizing User Experience
                </p>
                <div class="animate-on-scroll delay-200 mt-10 flex flex-col sm:flex-row justify-center gap-4">
                    <a href="#projects" class="inline-block bg-indigo-600 text-white font-semibold px-8 py-3 rounded-lg shadow-lg hover:bg-indigo-700 transition-all duration-300 ease-in-out transform hover:scale-105">
                        View My Work
                    </a>
                    <a href="#contact" class="inline-block bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-200 font-semibold px-8 py-3 rounded-lg shadow-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition-all duration-300 ease-in-out transform hover:scale-105">
                        Get In Touch
                    </a>
                </div>
            </div>
        </section>

        <!-- ====== About Section ====== -->
        <section id="about" class="py-24 sm:py-32 overflow-hidden">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-12 items-center">
                <div>
                    <h2 class="animate-on-scroll text-3xl sm:text-4xl font-bold text-gray-900 dark:text-gray-100 mb-4">About Me</h2>
                    <p class="animate-on-scroll delay-100 text-lg text-gray-600 dark:text-gray-300 mb-4">
                        Hello! I'm Aadith, a passionate and detail-oriented Graphic Designer based in Thrissur,Kerala. My journey in tech began with a fascination for how visual ideas and branding come to life.
                    </p>
                    <p class="animate-on-scroll delay-200 text-lg text-gray-600 dark:text-gray-300 mb-4">
                        Today, I specialize in graphic design using vector and raster tools and 3D artistry. I thrive on turning complex ideas into simple, elegant, and efficient solutions.
                    </p>
                    <p class="animate-on-scroll delay-300 text-lg text-gray-600 dark:text-gray-300">
                        When I'm not designing, you can find me working out or tinkering with PC hardware.
                    </p>
                </div>
                <div class="animate-on-scroll delay-200 w-full h-80 bg-gray-200 dark:bg-gray-700 rounded-lg shadow-xl flex items-center justify-center">
                    <img 
                        src="images/album.jpg" 
                        alt="A placeholder image for a professional headshot" 
                        class="w-auto h-full object-cover rounded-lg"
                        onerror="this.src='https://placehold.co/600x40/E0E7FF/4F46E5?text=Your+Photo+Here'; this.onerror=null;"
                    >
                </div>
            </div>
        </section>

        <!-- ====== Projects Section ====== -->
        <section id="projects" class="py-24 sm:py-32 overflow-hidden">
            <div class="text-center mb-16">
                <h2 class="animate-on-scroll text-3xl sm:text-4xl font-bold text-gray-900 dark:text-gray-100 mb-4">My Projects</h2>
                <p class="animate-on-scroll delay-100 text-xl text-gray-600 dark:text-gray-300 max-w-2xl mx-auto">
                    Here are a few things I've been working on.
                </p>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                
                <!-- Project Card 1 -->
                <div class="animate-on-scroll delay-100 group bg-white dark:bg-gray-800 rounded-lg shadow-xl overflow-hidden transform transition-all duration-300 ease-in-out hover:scale-[1.03] hover:shadow-2xl">
                    <img 
                        src="images/Work1.jpg" 
                        alt="Project 1 Screenshot" 
                        class="w-full h-48 object-cover"
                        onerror="this.src='https://placehold.co/600x400/D1D5DB/1F2937?text=Project+1+Image'; this.onerror=null;"
                    >
                    <div class="p-6">
                        <h3 class="text-xl font-semibold text-gray-900 dark:text-gray-100 mb-2">Advertisement</h3>
                        <p class="text-gray-600 dark:text-gray-300 mb-4">
                            A brief, Client Project which their requirments are simple and conveying.
                        </p>
                        <div class="flex flex-wrap gap-2 mb-4">
                            <span class="bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200 text-xs font-medium px-2.5 py-0.5 rounded-full">Photoshop</span>
                            <span class="bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200 text-xs font-medium px-2.5 py-0.5 rounded-full">Affinity</span>
                            <span class="bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200 text-xs font-medium px-2.5 py-0.5 rounded-full">Illustration</span>
                        </div>
                        <div class="flex gap-4 transform translate-y-2 group-hover:translate-y-0 opacity-0 group-hover:opacity-100 transition-all duration-300 ease-in-out">
                            <a href="images/Work1.jpg" class="text-indigo-600 dark:text-indigo-400 hover:text-indigo-800 dark:hover:text-indigo-300 font-medium transition-colors duration-300 ease-in-out">Fullscreen</a>
                            <a href="https://github.com/igkru" class="text-gray-500 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 font-medium transition-colors duration-300 ease-in-out">GitHub</a>
                        </div>
                    </div>
                </div>

                <!-- Project Card 2 -->
                <div class="animate-on-scroll delay-200 group bg-white dark:bg-gray-800 rounded-lg shadow-xl overflow-hidden transform transition-all duration-300 ease-in-out hover:scale-[1.03] hover:shadow-2xl">
                    <img 
                        src="images/Work2.jpg" 
                        alt="Project 2 Screenshot" 
                        class="w-full h-48 object-cover"
                        onerror="this.src='https://placehold.co/600x400/D1D5DB/1F2937?text=Project+2+Image'; this.onerror=null;"
                    >
                    <div class="p-6">
                        <h3 class="text-xl font-semibold text-gray-900 dark:text-gray-100 mb-2">Poster for Social Media</h3>
                        <p class="text-gray-600 dark:text-gray-300 mb-4">
                            A Brief, Client wants to celebrate their 1K followers Milestone and I visually represent it!
                        </p>
                        <div class="flex flex-wrap gap-2 mb-4">
                            <span class="bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200 text-xs font-medium px-2.5 py-0.5 rounded-full">Photoshop</span>
                            <span class="bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200 text-xs font-medium px-2.5 py-0.5 rounded-full">Affinity</span>
                            <span class="bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200 text-xs font-medium px-2.5 py-0.5 rounded-full">Illustration</span>
                        </div>
                        <div class="flex gap-4 transform translate-y-2 group-hover:translate-y-0 opacity-0 group-hover:opacity-100 transition-all duration-300 ease-in-out">
                            <a href="images/Work2.jpg" class="text-indigo-600 dark:text-indigo-400 hover:text-indigo-800 dark:hover:text-indigo-300 font-medium transition-colors duration-300 ease-in-out">Fullscreen</a>
                            <a href="https://github.com/igkru" class="text-gray-500 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 font-medium transition-colors duration-300 ease-in-out">GitHub</a>
                        </div>
                    </div>
                </div>

                <!-- Project Card 3 -->
                <div class="animate-on-scroll delay-300 group bg-white dark:bg-gray-800 rounded-lg shadow-xl overflow-hidden transform transition-all duration-300 ease-in-out hover:scale-[1.03] hover:shadow-2xl">
                    <img 
                        src="images/Work3.jpg" 
                        alt="Project 3 Screenshot" 
                        class="w-full h-48 object-cover"
                        onerror="this.src='https://placehold.co/600x400/D1D5DB/1F2937?text=Project+3+Image'; this.onerror=null;"
                    >
                    <div class="p-6">
                        <h3 class="text-xl font-semibold text-gray-900 dark:text-gray-100 mb-2">Advertisement</h3>
                        <p class="text-gray-600 dark:text-gray-300 mb-4">
                            A brief, A project for their Advertisement and I visually Created It!
                        </fs>
                        <div class="flex flex-wrap gap-2 mb-4">
                            <span class="bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200 text-xs font-medium px-2.5 py-0.5 rounded-full">Photoshop</span>
                            <span class="bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200 text-xs font-medium px-2.5 py-0.5 rounded-full">Affinity</span>
                            <span class="bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200 text-xs font-medium px-2.5 py-0.5 rounded-full">Illustration</span>
                        </div>
                        <div class="flex gap-4 transform translate-y-2 group-hover:translate-y-0 opacity-0 group-hover:opacity-100 transition-all duration-300 ease-in-out">
                            <a href="images/Work3.jpg" class="text-indigo-600 dark:text-indigo-400 hover:text-indigo-800 dark:hover:text-indigo-300 font-medium transition-colors duration-300 ease-in-out">Fullscreen</a>
                            <a href="https://www.behance.net/aadithvasanth1/services" class="text-gray-500 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 font-medium transition-colors duration-300 ease-in-out">For More</a>
                        </div>
                    </div>
                </div>

            </div>
        </section>


        <!-- ====== Contact Section ====== -->
        <section id="contact" class="py-24 sm:py-32 text-center overflow-hidden">
            <h2 class="text-3xl sm:text-4xl font-bold text-gray-900 dark:text-gray-100 mb-4 animate-on-scroll">
                Get In Touch
            </h2>
            <p class="text-xl text-gray-600 dark:text-gray-300 max-w-2xl mx-auto mb-8 animate-on-scroll delay-100">
                I'm currently open to new opportunities. Whether you have a question or just want to say hi, feel free to reach out. My inbox is always open!
            </p>
            <div class="animate-on-scroll delay-200">
                <div class="copy-button-container inline-flex">
                    <button id="copy-email-button" data-email="aadithvasanthakumar0@gmail.com" class="inline-flex items-center bg-indigo-600 text-white font-semibold px-8 py-3 rounded-lg shadow-lg hover:bg-indigo-700 transition-all duration-300 ease-in-out transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2">
                        <!-- Mail Icon -->
                        <svg class="w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25m19.5 0v.243a2.25 2.25 0 01-1.07 1.916l-7.5 4.615a2.25 2.25 0 01-2.36 0L3.32 8.91a2.25 2.25 0 01-1.07-1.916V6.75" />
                        </svg>
                        Copy My Email
                    </button>
                    <span id="copy-tooltip" class="copy-tooltip">Copied!</span>
                </div>
            </div>

            <!-- AI Message Starter -->
            <div class="animate-on-scroll delay-300 max-w-2xl mx-auto mt-16 p-8 bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700">
                <h3 class="text-2xl font-bold text-gray-900 dark:text-gray-100 mb-4 flex items-center justify-center">
                    <!-- Sparkle Icon -->
                    <svg class="w-6 h-6 mr-2 text-indigo-500 animate-pulse-sparkle" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 00-2.456 2.456zM18 13.5h.008v.008H18v-.008z" />
                    </svg>
                    AI Message Starter
                </h3>
                <p class="text-gray-600 dark:text-gray-300 mb-6">
                    Not sure what to write? Select a topic and I'll generate a professional starter message for you.
                </p>
                <div class="space-y-4">
                    <div>
                        <label for="message-topic" class="sr-only">Message Topic</label>
                        <select id="message-topic" name="topic" class="w-full px-4 py-2 bg-gray-50 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200">
                            <option value="Job Opportunity">Job Opportunity</option>
                            <option value="Project Collaboration">Project Collaboration</option>
                            <option value="Freelance Inquiry">Freelance Inquiry</option>
                            <option value="Quick Question">Quick Question</option>
                        </select>
                    </div>
                    
                    <button id="generate-message-btn" class="w-full inline-flex justify-center items-center bg-indigo-600 text-white font-semibold px-6 py-3 rounded-lg shadow-lg hover:bg-indigo-700 transition-all duration-300 ease-in-out transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2">
                        <!-- Sparkle Icon -->
                        <svg class="w-5 h-5 mr-2 -ml-1 animate-pulse-sparkle" style="animation-delay: 300ms;" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 00-2.456 2.456zM18 13.5h.008v.008H18v-.008z" />
                        </svg>
                        Generate Draft
                    </button>
                    
                    <div id="ai-message-loader" class="hidden text-center text-sm text-gray-600 dark:text-gray-400">
                        Generating...
                    </div>
                    
                    <textarea id="ai-message-output" rows="6" class="hidden w-full px-4 py-2 bg-gray-50 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-200" placeholder="AI-generated message will appear here..."></textarea>
                </div>
            </div>
        </section>

    </main>

    <!-- ====== Footer ====== -->
    <!-- ====== Footer ====== -->
    <!-- Footer is relative to stack above the background -->
    <footer class="relative z-10 bg-gray-100 dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 mt-24">
        <div class="container mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-12 text-center text-gray-500 dark:text-gray-400">
            
            <!-- Social Media Links -->
            <div class="mb-6">
                <p class="text-sm text-gray-600 dark:text-gray-400 mb-4">
                    If I don't reply via email, you can also reach me on social media:
                </p>
                <div class="flex justify-center items-center space-x-6">
                    <!-- LinkedIn -->
                    <a href="#" class="text-gray-500 dark:text-gray-400 hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors duration-300" target="_blank" rel="noopener noreferrer" aria-label="LinkedIn Profile">
                        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                            <path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.784-1.75-1.75s.784-1.75 1.75-1.75 1.75.784 1.75 1.75-.784 1.75-1.75 1.75zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"/>
                        </svg>
                    </a>
                    <!-- GitHub -->
                    <a href="https://github.com/igkru" class="text-gray-500 dark:text-gray-400 hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors duration-300" target="_blank" rel="noopener noreferrer" aria-label="GitHub Profile">
                        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                            <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
                        </svg>
                    </a>
                    <!-- Twitter / X -->
                    <a href="https://x.com/KRU0875" class="text-gray-500 dark:text-gray-400 hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors duration-300" target="_blank" rel="noopener noreferrer" aria-label="Twitter Profile">
                        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                            <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H4.69l4.523 6.031L13.42 2.25zm-1.56 17.52h2.433L7.468 4.126H4.89l11.786 15.644z"/>
                        </svg>
                    </a>
                </div>
            </div>

            <!-- Copyright -->
            <p>&copy; 2025-2030 Aadith. All rights reserved.</p>
        </div>
    </footer>
    
    <!-- ====== Back to Top Button ====== -->
    <button id="back-to-top" class="hidden fixed bottom-6 right-6 bg-indigo-600 text-white p-3 rounded-full shadow-lg hover:bg-indigo-700 transition-all duration-300 ease-in-out transform hover:scale-110 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 z-40">
        <span class="sr-only">Go to top</span>
        <svg class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" d="M4.5 15.75l7.5-7.5 7.5 7.5" />
        </svg>
    </button>
    

    <!-- ====== JavaScript ====== -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {

            // --- Mobile Menu Toggle ---
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');
            const menuOpenIcon = document.getElementById('menu-open-icon');
            const menuCloseIcon = document.getElementById('menu-close-icon');

            if (mobileMenuButton) {
                mobileMenuButton.addEventListener('click', () => {
                    const isExpanded = mobileMenuButton.getAttribute('aria-expanded') === 'true';
                    mobileMenuButton.setAttribute('aria-expanded', !isExpanded);
                    mobileMenu.classList.toggle('hidden');
                    menuOpenIcon.classList.toggle('hidden');
                    menuOpenIcon.classList.toggle('block');
                    menuCloseIcon.classList.toggle('hidden');
                });
            }
            
            // Close mobile menu when a link is clicked
            if (mobileMenu) {
                mobileMenu.querySelectorAll('a').forEach(link => {
                    link.addEventListener('click', () => {
                        mobileMenuButton.setAttribute('aria-expanded', 'false');
                        mobileMenu.classList.add('hidden');
                        menuOpenIcon.classList.remove('hidden');
                        menuOpenIcon.classList.add('block');
                        menuCloseIcon.classList.add('hidden');
                    });
                });
            }

            // --- Dark Mode Toggle ---
            const themeToggleBtns = [
                document.getElementById('theme-toggle'), 
                document.getElementById('theme-toggle-mobile')
            ];
            const lightIcons = [
                document.getElementById('theme-toggle-light-icon'),
                document.getElementById('theme-toggle-light-icon-mobile')
            ];
            const darkIcons = [
                document.getElementById('theme-toggle-dark-icon'),
                document.getElementById('theme-toggle-dark-icon-mobile')
            ];

            // Function to update icon visibility
            const updateThemeIcons = () => {
                if (localStorage.theme === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
                    lightIcons.forEach(icon => { if(icon) icon.classList.remove('hidden') });
                    darkIcons.forEach(icon => { if(icon) icon.classList.add('hidden') });
                } else {
                    lightIcons.forEach(icon => { if(icon) icon.classList.add('hidden') });
                    darkIcons.forEach(icon => { if(icon) icon.classList.remove('hidden') });
                }
            };

            // Set initial icon state
            updateThemeIcons();

            // Add click listener to both toggle buttons
            themeToggleBtns.forEach(btn => {
                if (btn) {
                    btn.addEventListener('click', () => {
                        // toggle theme
                        if (localStorage.theme === 'dark') {
                            localStorage.theme = 'light';
                            document.documentElement.classList.remove('dark');
                        } else {
                            localStorage.theme = 'dark';
                            document.documentElement.classList.add('dark');
                        }
                        // update icons
                        updateThemeIcons();
                    });
                }
            });


            // --- Sticky Nav Shadow ---
            const header = document.getElementById('header');
            const scrollObserver = new IntersectionObserver(
                (entries) => {
                    entries.forEach(entry => {
                        if (entry.boundingClientRect.top < 0) {
                            if (header) header.classList.add('nav-shadow');
                        } else {
                            if (header) header.classList.remove('nav-shadow');
                        }
                    });
                },
                { threshold: 1 }
            );
            // Observe an element right after the header (e.g., the hero section)
            const heroSection = document.getElementById('home');
            if (heroSection) {
                scrollObserver.observe(heroSection);
            }
            
            // --- Smooth scrolling for nav links ---
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const targetId = this.getAttribute('href');
                    const targetElement = document.querySelector(targetId);
                    if(targetElement) {
                        // Calculate offset for sticky header
                        const headerEl = document.getElementById('header');
                        const headerOffset = headerEl ? headerEl.offsetHeight : 64; // Default to 64px if header not found
                        const elementPosition = targetElement.getBoundingClientRect().top;
                        const offsetPosition = elementPosition + window.pageYOffset - headerOffset;
                
                        window.scrollTo({
                            top: offsetPosition,
                            behavior: "smooth"
                        });
                    }
                });
            });

            // --- Back to Top Button ---
            const backToTopButton = document.getElementById('back-to-top');
            
            if (backToTopButton) {
                window.addEventListener('scroll', () => {
                    if (window.pageYOffset > 300) {
                        if (backToTopButton.classList.contains('hidden')) {
                            backToTopButton.classList.remove('hidden');
                            backToTopButton.classList.add('fade-in');
                        }
                    } else {
                        backToTopButton.classList.add('hidden');
                        backToTopButton.classList.remove('fade-in');
                    }
                });

                backToTopButton.addEventListener('click', () => {
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                });
            }
            
            // --- Copy Email Button ---
            const copyEmailButton = document.getElementById('copy-email-button');
            const copyTooltip = document.getElementById('copy-tooltip');
            
            if (copyEmailButton && copyTooltip) {
                copyEmailButton.addEventListener('click', () => {
                    const email = copyEmailButton.dataset.email;
                    
                    // Use a temporary textarea to copy
                    const tempTextArea = document.createElement('textarea');
                    tempTextArea.value = email;
                    document.body.appendChild(tempTextArea);
                    tempTextArea.select();
                    try {
                        document.execCommand('copy');
                        // Show tooltip
                        copyTooltip.classList.add('visible');
                        copyTooltip.textContent = 'Copied!';
                        
                        // Hide tooltip after 2 seconds
                        setTimeout(() => {
                            copyTooltip.classList.remove('visible');
                        }, 2000);
                        
                    } catch (err) {
                        console.error('Failed to copy email: ', err);
                        copyTooltip.textContent = 'Failed to copy!';
                        copyTooltip.classList.add('visible');
                        setTimeout(() => {
                            copyTooltip.classList.remove('visible');
                        }, 2000);
                    }
                    document.body.removeChild(tempTextArea);
                });
            }

            // --- Animate on Scroll ---
            const animatedElements = document.querySelectorAll('.animate-on-scroll');
            
            if (animatedElements.length > 0) {
                const observer = new IntersectionObserver((entries, observer) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            entry.target.classList.add('is-visible');
                            // No need to observe anymore
                            // observer.unobserve(entry.target); 
                            // We keep observing so it re-animates if scrolled back up and down
                        } else {
                            // Re-hide if you want animation to trigger every time
                            entry.target.classList.remove('is-visible');
                        }
                    });
                }, {
                    rootMargin: '0px 0px -100px 0px', // Trigger when 100px from bottom
                    threshold: 0.1
                });

                animatedElements.forEach(el => {
                    observer.observe(el);
                });
            }
            
            // --- AI Message Starter ---
            const generateMessageBtn = document.getElementById('generate-message-btn');
            const messageTopicSelect = document.getElementById('message-topic');
            const aiMessageOutput = document.getElementById('ai-message-output');
            const aiMessageLoader = document.getElementById('ai-message-loader');
            const logoLink = document.getElementById('logo-link');
            
            // Get the portfolio owner's name from the logo link's data attribute
            const portfolioOwnerName = (logoLink && logoLink.dataset.name) ? logoLink.dataset.name : "the site owner";

            if (generateMessageBtn && messageTopicSelect && aiMessageOutput && aiMessageLoader) {
                generateMessageBtn.addEventListener('click', async () => {
                    const topic = messageTopicSelect.value;
                    
                    // Show loader and hide textarea
                    aiMessageLoader.classList.remove('hidden');
                    aiMessageOutput.classList.add('hidden');
                    generateMessageBtn.disabled = true;

                    try {
                        const result = await callGeminiApi(topic, portfolioOwnerName);
                        aiMessageOutput.value = result.text;
                        aiMessageOutput.classList.remove('hidden');
                        
                        // Auto-resize textarea
                        aiMessageOutput.style.height = 'auto';
                        aiMessageOutput.style.height = (aiMessageOutput.scrollHeight) + 'px';
                        
                    } catch (error) {
                        console.error("Error generating message:", error);
                        aiMessageOutput.value = "Sorry, I couldn't generate a message at this time. Please try again later.";
                        aiMessageOutput.classList.remove('hidden');
                    } finally {
                        // Hide loader and re-enable button
                        aiMessageLoader.classList.add('hidden');
                        generateMessageBtn.disabled = false;
                    }
                });
            }
            
            /**
             * Calls the Gemini API to generate a contact message.
             * @param {string} topic - The selected message topic.
             * @param {string} recipientName - The name of the portfolio owner.
             * @returns {Promise<{text: string}>} - A promise that resolves to an object containing the generated text.
             */
            async function callGeminiApi(topic, recipientName) {
                const apiKey = ""; // API key is handled by the environment
                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`;

                const systemPrompt = "You are a helpful assistant writing on behalf of a person visiting a professional portfolio website. Your goal is to draft a polite, concise, and professional starter message (around 50-70 words) for an email. The visitor will edit this draft before sending it. Address the portfolio owner by their name.";

                const userQuery = `Draft a starter message to "${recipientName}" about a "${topic}". My name is [My Name], and I found their portfolio impressive.`;
                
                const payload = {
                    contents: [{ parts: [{ text: userQuery }] }],
                    systemInstruction: {
                        parts: [{ text: "Act as a helpful assistant writing on behalf of a person visiting a professional portfolio website. Your goal is to draft a polite, concise, and professional starter message (around 50-70 words) for an email. The visitor will edit this draft before sending it. Address the portfolio owner by their name." }]
                    },
                };

                // Simple exponential backoff retry logic
                let response;
                let delay = 1000;
                for (let i = 0; i < 3; i++) {
                    try {
                        response = await fetch(apiUrl, {
                            method: 'POST',
                            headers: { 'Content-Type': 'application/json' },
                            body: JSON.stringify(payload)
                        });

                        if (response.ok) {
                            const result = await response.json();
                            const candidate = result.candidates?.[0];
                            if (candidate && candidate.content?.parts?.[0]?.text) {
                                return { text: candidate.content.parts[0].text };
                            } else {
                                // console.error("Invalid API response structure:", result);
                                throw new Error("Invalid API response structure.");
                            }
                        } else if (response.status === 429 || response.status >= 500) {
                            // Retry on rate limiting or server errors
                            // console.warn(`Retrying... (Status: ${response.status})`);
                            await new Promise(resolve => setTimeout(resolve, delay));
                            delay *= 2;
                        } else {
                            // Don't retry on other client-side errors (e.g., 400)
                            // console.error(`API request failed with status ${response.status}`);
                            throw new Error(`API request failed with status ${response.status}`);
                        }
                    } catch (error) {
                        // console.warn(`Fetch error: ${error.message}. Retrying...`);
                        if (i === 2) { // Last attempt failed
                            throw error;
                        }
                        await new Promise(resolve => setTimeout(resolve, delay));
                        delay *= 2;
                    }
                }
                
                throw new Error("Failed to get a response from the API after retries.");
            }
        

        // --- Background Scroll Speed Effect ---
            let lastScrollTop = 0;
            let ticking = false; // For throttling scroll event
            const maxScrollSpeed = 2; // Fastest animation (in seconds)
            const minScrollSpeed = 25; // Slowest animation (in seconds)
            
            window.addEventListener('scroll', () => {
                lastScrollTop = window.scrollY;
                
                if (!ticking) {
                    window.requestAnimationFrame(() => {
                        const totalHeight = document.documentElement.scrollHeight - window.innerHeight;
                        const scrollPercent = Math.min(1, lastScrollTop / totalHeight);
                        
                        // Calculate new speed: faster as you scroll down
                        // Use a non-linear curve (e.g., easeIn) to make the speed-up more noticeable
                        const easedPercent = scrollPercent * scrollPercent; //
                        let newSpeed = minScrollSpeed - (easedPercent * (minScrollSpeed - maxScrollSpeed));
                        
                        // Ensure speed stays within bounds
                        newSpeed = Math.max(maxScrollSpeed, Math.min(minScrollSpeed, newSpeed));
                        
                        // Update the CSS variable
                        document.documentElement.style.setProperty('--anim-speed', `${newSpeed.toFixed(2)}s`);
                        
                        ticking = false;
                    });
                    
                    ticking = true;
                }
            });

        });
    </script>

</body>
</html>